function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],r=!0,n=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(i.push(o.value),!t||i.length!==t);r=!0);}catch(s){n=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(n)throw a}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"3iNi":function(e,t,i){"use strict";i.r(t),i.d(t,"MyAccountModule",(function(){return ae}));var r=i("ofXK"),n=i("3Pt+"),a=i("UmVK"),o=i("tyNb"),c=i("XNiG"),s=i("Cicx"),l=i("fXoL"),u=i("wZkO"),b=i("NFeN"),f=i("MutI"),d=function(e){return[e]};function m(e,t){if(1&e){var i=l.Wb();l.Vb(0,"a",5,6),l.cc("click",(function(){l.uc(i);var e=t.$implicit;return l.gc().activeLink=e})),l.Vb(2,"mat-icon",7),l.Dc(3),l.Ub(),l.Dc(4),l.Ub()}if(2&e){var r=t.$implicit,n=l.rc(1);l.mc("active",n.isActive)("routerLink",l.oc(4,d,r.url)),l.Cb(3),l.Ec(r.iconName),l.Cb(1),l.Fc(" ",r.display," ")}}var p,h,v=((p=function(){function e(){_classCallCheck(this,e),this.compDest$=new c.a,this.tabLinks=[],this.tabLinks.push(new s.f("view","Overview","view",!1,"account_circle"),new s.f("edit","Edit","edit",!1,"edit"))}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}}]),e}()).\u0275fac=function(e){return new(e||p)},p.\u0275cmp=l.Jb({type:p,selectors:[["app-my-account"]],decls:6,vars:2,consts:[[1,"container","mb-3"],[1,"row","mb-2","mt-2"],[1,"col-sm-12"],["mat-tab-nav-bar","",3,"backgroundColor"],["mat-tab-link","","routerLinkActive","",3,"active","routerLink","click",4,"ngFor","ngForOf"],["mat-tab-link","","routerLinkActive","",3,"active","routerLink","click"],["rla","routerLinkActive"],["mat-list-icon","",1,"mr-1"]],template:function(e,t){1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Vb(3,"nav",3),l.Bc(4,m,5,6,"a",4),l.Ub(),l.Ub(),l.Ub(),l.Qb(5,"router-outlet"),l.Ub()),2&e&&(l.Cb(3),l.mc("backgroundColor",void 0),l.Cb(1),l.mc("ngForOf",t.tabLinks))},directives:[u.b,r.k,o.g,o.e,u.a,o.d,b.a,f.a],styles:[".profile-img-parent[_ngcontent-%COMP%]{height:15rem}"]}),p),g=i("itXk"),y=i("1G5W"),U=i("kt0X"),k=i("D7s6"),C=i("PmIS"),V=((h=function(){function e(t){_classCallCheck(this,e),this.store=t}return _createClass(e,[{key:"updateUserProfile",value:function(e){this.store.dispatch(C.h({info:e}))}},{key:"getUserProfile",value:function(){this.store.dispatch(C.e())}}]),e}()).\u0275fac=function(e){return new(e||h)(l.Zb(U.h))},h.\u0275prov=l.Lb({token:h,factory:h.\u0275fac,providedIn:"root"}),h),w=i("f/hT"),D=i("B6IJ");function I(e,t){if(1&e&&(l.Vb(0,"div",5),l.Vb(1,"div",6),l.Vb(2,"div",7),l.Qb(3,"img",8),l.Ub(),l.Ub(),l.Vb(4,"div",9),l.Vb(5,"div",10),l.Vb(6,"div",1),l.Vb(7,"div",11),l.Dc(8,"Display name:"),l.Ub(),l.Vb(9,"div"),l.Dc(10),l.Ub(),l.Ub(),l.Ub(),l.Vb(11,"div",10),l.Vb(12,"div",1),l.Vb(13,"div",11),l.Dc(14,"Email:"),l.Ub(),l.Vb(15,"div"),l.Dc(16),l.Ub(),l.Ub(),l.Ub(),l.Vb(17,"div",10),l.Vb(18,"div",1),l.Vb(19,"div",11),l.Dc(20,"Last login:"),l.Ub(),l.Vb(21,"div"),l.Dc(22),l.hc(23,"dateDisplay"),l.Ub(),l.Ub(),l.Ub(),l.Vb(24,"form"),l.Vb(25,"div",12),l.Vb(26,"div",13),l.Vb(27,"label"),l.Dc(28,"Access Token"),l.Ub(),l.Qb(29,"input",14),l.Ub(),l.Vb(30,"div",15),l.Vb(31,"label"),l.Dc(32,"Token Expire Time"),l.Ub(),l.Qb(33,"input",14),l.hc(34,"dateDisplay"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&e){var i=l.gc();l.Cb(1),l.Gb("is-mobile",i.ims.mediaQList.matches),l.Cb(2),l.mc("src",i.user.photoURL?i.user.photoURL:i.defaultAvartarImgSrc,l.wc),l.Cb(7),l.Fc(" ",i.user.displayName?i.user.displayName:"Not entered"," "),l.Cb(6),l.Fc(" ",i.user.email," "),l.Cb(6),l.Fc(" ",l.jc(23,8,i.user.lastLoginAt,"FULLANDFROMNOW")," "),l.Cb(7),l.mc("value",i.user.stsTokenManager.accessToken),l.Cb(4),l.mc("value",l.jc(34,11,i.user.stsTokenManager.expirationTime,"FULLANDFROMNOW"))}}function _(e,t){1&e&&l.Qb(0,"app-shared-loading")}var P,L,A=((P=function(){function e(t,i,r){_classCallCheck(this,e),this.store=t,this.ims=i,this.us=r,this.viewSubtext="My account information",this.defaultAvartarImgSrc="assets/banner/placeholder-logo.png",this.compDest$=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.store.select("userInfoProfile"),i=this.store.select("appAuth");Object(g.a)(t,i).pipe(Object(y.a)(this.compDest$)).subscribe((function(t){var i=_slicedToArray(t,2),r=i[0],n=i[1];e.displayUserProfile(r,n)})),this.us.getUserProfile()}},{key:"displayUserProfile",value:function(e,t){e.userInfo?(this.authLoading=e.loading,this.user=e.userInfo,this.loadingError=e.error):t.verifiedUser&&(this.authLoading=t.loading,this.user=t.verifiedUser,this.loadingError=t.error)}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}}]),e}()).\u0275fac=function(e){return new(e||P)(l.Pb(U.h),l.Pb(k.a),l.Pb(V))},P.\u0275cmp=l.Jb({type:P,selectors:[["app-account-view"]],decls:7,vars:2,consts:[[1,"row","mt-3","mb-5"],[1,"col-sm-12"],[1,"center-align"],["class","row",4,"ngIf","ngIfElse"],["loading",""],[1,"row"],[1,"col-sm-12","col-md-6","profile-pic"],[1,"profile-img-parent"],[1,"img-h-100",3,"src"],[1,"col-sm-12","col-md-6"],[1,"row","mb-3"],[1,"vlabel"],[1,"form-row"],[1,"form-group","col-sm-3"],["type","text","readonly","",1,"form-control",3,"value"],[1,"form-group","col-sm-9"]],template:function(e,t){if(1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Dc(3," Account Overview "),l.Ub(),l.Ub(),l.Ub(),l.Bc(4,I,35,14,"div",3),l.Bc(5,_,1,0,"ng-template",null,4,l.Cc)),2&e){var i=l.rc(6);l.Cb(4),l.mc("ngIf",!t.authLoading)("ngIfElse",i)}},directives:[r.l,n.u,n.p,n.q,w.a],pipes:[D.a],styles:[".profile-img-parent[_ngcontent-%COMP%]{height:15rem}.is-mobile[_ngcontent-%COMP%]{display:flex;justify-content:center!important;margin-bottom:15px}.profile-pic[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.vlabel[_ngcontent-%COMP%]{color:#000;font-weight:800}"]}),P),O=i("Pk+l"),N=i("aiZK"),F=i("MPcn"),M=i("7DFu"),T=i("0IaG"),S=i("bTqV"),j=((L=function(){function e(t,i){_classCallCheck(this,e),this.dialogRef=t,this.data=i}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onNoClick",value:function(){this.dialogRef.close(!1)}},{key:"onYesClick",value:function(){this.dialogRef.close(!0)}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||L)(l.Pb(T.f),l.Pb(T.a))},L.\u0275cmp=l.Jb({type:L,selectors:[["app-shared-dialog"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(e,t){1&e&&(l.Vb(0,"h1",0),l.Dc(1,"Confirmation"),l.Ub(),l.Vb(2,"div",1),l.Vb(3,"p"),l.Dc(4),l.Ub(),l.Ub(),l.Vb(5,"div",2),l.Vb(6,"button",3),l.cc("click",(function(){return t.onNoClick()})),l.Dc(7,"No"),l.Ub(),l.Vb(8,"button",4),l.cc("click",(function(){return t.onYesClick()})),l.Dc(9,"Yes"),l.Ub(),l.Ub()),2&e&&(l.Cb(4),l.Fc("Are you sure you want to ",null==t.data?null:t.data.actionName,""))},directives:[T.g,T.d,T.c,S.a],styles:[""]}),L),E=i("Wp6s"),R=i("kmnG"),x=i("qFsG");function $(e,t){1&e&&(l.Vb(0,"mat-error"),l.Dc(1," Display name can only container letters or numbers. "),l.Ub())}function Q(e,t){1&e&&(l.Vb(0,"div",23),l.Dc(1," Please fix your inputs before saving. "),l.Ub())}function G(e,t){if(1&e){var i=l.Wb();l.Vb(0,"div",5),l.Vb(1,"div",6),l.Vb(2,"mat-card",7),l.Vb(3,"mat-card-header"),l.Qb(4,"img",8),l.Vb(5,"mat-card-title"),l.Dc(6),l.Ub(),l.Qb(7,"mat-card-subtitle"),l.Ub(),l.Vb(8,"mat-card-content",9),l.Vb(9,"div",10),l.Vb(10,"form",11),l.Vb(11,"div",12),l.Vb(12,"mat-form-field",13),l.Vb(13,"mat-label"),l.Dc(14,"Display Name"),l.Ub(),l.Qb(15,"input",14),l.Vb(16,"mat-hint"),l.Dc(17,"Your display name."),l.Ub(),l.Bc(18,$,2,0,"mat-error",15),l.Ub(),l.Ub(),l.Vb(19,"div",12),l.Vb(20,"mat-form-field",13),l.Vb(21,"mat-label"),l.Dc(22,"Avatar URL"),l.Ub(),l.Qb(23,"input",16),l.Vb(24,"mat-hint"),l.Dc(25,"Your avatar URL"),l.Ub(),l.Ub(),l.Ub(),l.Vb(26,"div",17),l.Dc(27," Avatar Preview: "),l.Ub(),l.Vb(28,"div",18),l.Qb(29,"img",19),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Bc(30,Q,2,0,"div",20),l.Vb(31,"mat-card-actions",21),l.Vb(32,"button",22),l.cc("click",(function(){return l.uc(i),l.gc().onReset()})),l.Dc(33,"Reset"),l.Ub(),l.Vb(34,"button",22),l.cc("click",(function(){return l.uc(i),l.gc().onSave()})),l.Dc(35,"Save"),l.Ub(),l.Ub(),l.Ub(),l.Ub(),l.Ub()}if(2&e){var r=l.gc();l.Cb(4),l.mc("src",r.user.photoURL?r.user.photoURL:r.defaultAvartarImgSrc,l.wc),l.Cb(2),l.Gc("",r.user.displayName?r.user.displayName:"No Display Name Entered"," ",r.infoFg.pristine?"":"*"," "),l.Cb(4),l.mc("formGroup",r.infoFg),l.Cb(5),l.mc("errorStateMatcher",r.matcher),l.Cb(3),l.mc("ngIf",r.infoFg.get("displayName").hasError("alphanumericOnly")),l.Cb(5),l.mc("errorStateMatcher",r.matcher),l.Cb(6),l.mc("src",r.photoUrlFc.value,l.wc),l.Cb(1),l.mc("ngIf",r.formError),l.Cb(1),l.mc("align","end")}}function W(e,t){1&e&&l.Qb(0,"app-shared-loading")}var B,J,X,Y,q,K,Z=((B=function(){function e(t,i,r,n){_classCallCheck(this,e),this.store=t,this.fb=i,this.us=r,this.dialog=n,this.matcher=new N.a,this.updateSubText="Update my profile",this.defaultAvartarImgSrc="assets/banner/placeholder-logo.png",this.compDest$=new c.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this.store.select("userInfoProfile"),i=this.store.select("appAuth");Object(g.a)(t,i).pipe(Object(y.a)(this.compDest$)).subscribe((function(t){var i=_slicedToArray(t,2),r=i[0],n=i[1];e.displayUserProfile(r,n)})),this.us.getUserProfile()}},{key:"displayUserProfile",value:function(e,t){if(e.userInfo)this.loading=e.loading,this.user=e.userInfo,this.loadingError=e.error;else if(t.verifiedUser){this.loading=t.loading;var i=new M.a(t.verifiedUser.displayName,t.verifiedUser.photoURL,t.verifiedUser.email,t.verifiedUser.emailVerified,t.verifiedUser.uid);this.user=i,this.loadingError=t.error}this.createInfoFg(this.user)}},{key:"createInfoFg",value:function(e){this.infoFg=this.fb.group({displayName:Object(O.a)(null==e?void 0:e.displayName,!1,[F.a]),photoUrl:Object(O.a)(null==e?void 0:e.photoURL,!1)}),this.setInitialValue(this.infoFg.value)}},{key:"setInitialValue",value:function(e){this.formInitValues=e}},{key:"onSave",value:function(){if(this.infoFg.valid){this.formError=!1;var e=this.infoFg.value,t=new M.b(e.displayName,e.photoUrl);this.us.updateUserProfile(t)}else this.formError=!0}},{key:"onReset",value:function(){this.infoFg.reset(this.formInitValues)}},{key:"ngOnDestroy",value:function(){this.compDest$.next(),this.compDest$.complete()}},{key:"canDeactivate",value:function(){return!!this.infoFg.pristine||this.openConfirmDialog()}},{key:"openConfirmDialog",value:function(){return this.dialog.open(j,{minWidth:"300px",data:{actionName:"leave this page? There are unsaved changes."}}).afterClosed().pipe(Object(y.a)(this.compDest$))}},{key:"photoUrlFc",get:function(){return this.infoFg.get("photoUrl")}}]),e}()).\u0275fac=function(e){return new(e||B)(l.Pb(U.h),l.Pb(n.e),l.Pb(V),l.Pb(T.b))},B.\u0275cmp=l.Jb({type:B,selectors:[["app-account-edit"]],decls:7,vars:2,consts:[[1,"row","mt-3","mb-3"],[1,"col-sm-6","offset-md-3"],["id","",1,"center-align"],["class","row mb-3",4,"ngIf","ngIfElse"],["dataLoading",""],[1,"row","mb-3"],[1,"col-sm-12","roboto"],[1,"profile-card"],["mat-card-avatar","",3,"src"],[1,"mt-3"],[1,""],[3,"formGroup"],[1,"mb-3"],[1,"full-w"],["matInput","","placeholder","John Smith","formControlName","displayName",3,"errorStateMatcher"],[4,"ngIf"],["matInput","","placeholder","https://imgur.com/blah","formControlName","photoUrl",3,"errorStateMatcher"],[1,"mb-2"],[1,"profile-img-parent","mb-3"],[1,"img-h-100",3,"src"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"align"],["mat-button","",3,"click"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){if(1&e&&(l.Vb(0,"div",0),l.Vb(1,"div",1),l.Vb(2,"div",2),l.Dc(3," Update Profile "),l.Ub(),l.Ub(),l.Ub(),l.Bc(4,G,36,10,"div",3),l.Bc(5,W,1,0,"ng-template",null,4,l.Cc)),2&e){var i=l.rc(6);l.Cb(4),l.mc("ngIf",!t.loading)("ngIfElse",i)}},directives:[r.l,E.a,E.e,E.c,E.h,E.g,E.d,n.u,n.p,n.j,R.c,R.g,x.b,n.c,n.o,n.h,R.f,E.b,S.a,R.b,w.a],styles:[".profile-card[_ngcontent-%COMP%]{max-width:40rem;margin:auto}",".profile-img-parent[_ngcontent-%COMP%]{height:15rem}"]}),B),H=[{path:"",component:v,canActivate:[i("dq+2").a],children:[{path:"",redirectTo:"view",pathMatch:"full"},{path:"view",component:A},{path:"edit",component:Z,canDeactivate:[(J=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"canDeactivate",value:function(e,t,i){return e.canDeactivate()}}]),e}(),J.\u0275fac=function(e){return new(e||J)},J.\u0275prov=l.Lb({token:J,factory:J.\u0275fac,providedIn:"root"}),J)]}]}],z=((X=function e(){_classCallCheck(this,e)}).\u0275mod=l.Nb({type:X}),X.\u0275inj=l.Mb({factory:function(e){return new(e||X)},imports:[[o.f.forChild(H)],o.f]}),X),ee=i("37S3"),te=i("UPf0"),ie=i("dwd6"),re=((K=function e(){_classCallCheck(this,e)}).\u0275mod=l.Nb({type:K}),K.\u0275inj=l.Mb({factory:function(e){return new(e||K)},providers:[],imports:[[a.a,n.k,r.c,ee.a]]}),K),ne=((q=function e(){_classCallCheck(this,e)}).\u0275mod=l.Nb({type:q}),q.\u0275inj=l.Mb({factory:function(e){return new(e||q)},providers:[],imports:[[r.c,n.k,n.s,a.a,ee.a,o.f,ie.a,re]]}),q),ae=((Y=function e(){_classCallCheck(this,e)}).\u0275mod=l.Nb({type:Y}),Y.\u0275inj=l.Mb({factory:function(e){return new(e||Y)},providers:[],imports:[[r.c,n.k,n.s,a.a,ee.a,te.a,ne,ie.a,z]]}),Y)}}]);