(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{oyDf:function(t,e,i){"use strict";i.r(e),i.d(e,"ManagementModule",(function(){return rt}));var r=i("ofXK"),n=i("3Pt+"),s=i("UmVK"),a=i("37S3"),c=i("tyNb"),o=i("fXoL");let l=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,n.j,n.r,s.a,a.a,c.f]]}),t})();var b=i("Cicx");const d=function(t){return[t]};function u(t,e){if(1&t&&(o.Wb(0,"li",6),o.Wb(1,"a",7),o.Fc(2),o.Vb(),o.Vb()),2&t){const t=e.$implicit;o.oc("routerLinkActive","active link-act"),o.Db(1),o.oc("routerLink",o.qc(3,d,t.url)),o.Db(1),o.Gc(t.display)}}let m=(()=>{class t{constructor(){this.managementLinks=[],this.managementLinks.push(new b.e("inventory","Inventory","inventory"),new b.e("users","Users","users"),new b.e("archives","Order Archives","archives"))}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-management"]],decls:11,vars:1,consts:[[1,"container","mb-3"],[1,"row","mb-3","comf","text-center","mt-3"],[1,"col-12"],[1,"row","mb-2","mt-2"],[1,"list-group","list-group-horizontal","comf"],["class","list-group-item links",3,"routerLinkActive",4,"ngFor","ngForOf"],[1,"list-group-item","links",3,"routerLinkActive"],[3,"routerLink"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Wb(3,"h2"),o.Fc(4,"Management Corner"),o.Vb(),o.Vb(),o.Vb(),o.Wb(5,"div",3),o.Wb(6,"div",2),o.Wb(7,"ul",4),o.Dc(8,u,3,5,"li",5),o.Vb(),o.Vb(),o.Vb(),o.Rb(9,"hr"),o.Rb(10,"router-outlet"),o.Vb()),2&t&&(o.Db(8),o.oc("ngForOf",e.managementLinks))},directives:[r.k,c.g,c.d,c.e],encapsulation:2}),t})();var p=i("XNiG"),f=i("1G5W"),h=i("OO0l"),g=i("itXk"),D=i("lJxs"),k=i("sSZD");let v=(()=>{class t{constructor(t){this.firedb=t,this.BASE_SELECTIONS_URL="selections/",this.MILK_TEAS_URL="teas",this.FRUIT_TEAS_URL="creative-mix",this.YOGURT_TEAS_URL="yogurt",this.milkTeasListFire=this.firedb.list(this.BASE_SELECTIONS_URL+this.MILK_TEAS_URL),this.creativeMixTeasListFire=this.firedb.list(this.BASE_SELECTIONS_URL+this.FRUIT_TEAS_URL),this.yogurtTeasListFire=this.firedb.list(this.BASE_SELECTIONS_URL+this.YOGURT_TEAS_URL),this.milkTeasList$=this.getCartItemObs(this.milkTeasListFire),this.creativeMixTeasList$=this.getCartItemObs(this.creativeMixTeasListFire),this.yogurtTeasList$=this.getCartItemObs(this.yogurtTeasListFire),this.allDrinksList$=Object(g.a)(this.milkTeasList$,this.creativeMixTeasList$,this.yogurtTeasList$)}getFDB(){return this.firedb.database}getCartItemObs(t){return t.snapshotChanges().pipe(Object(D.a)(t=>this.addfireKey(t)))}getDrinkDetailObs(t,e){return this.firedb.object(this.BASE_SELECTIONS_URL+t+"/"+e).snapshotChanges().pipe(Object(D.a)(t=>this.addFireKeySingle(t)))}getDrinkDetail(t,e){return this.firedb.object(this.BASE_SELECTIONS_URL+t+"/"+e)}addFireKeySingle(t){return Object.assign({fireKey:t.payload.key},t.payload.val())}addfireKey(t){return t.map(t=>Object.assign({fireKey:t.payload.key},t.payload.val()))}}return t.\u0275fac=function(e){return new(e||t)(o.ac(k.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=i("b8ES"),F=i("MutI"),V=i("FKr1"),W=i("NFeN"),L=i("f0Cb");let I=(()=>{class t{transform(t){let e="";return e+=t.display+" - "+t.seriesDisplay,e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Pb({name:"inventoryDrinkDisplay",type:t,pure:!0}),t})();function O(t,e){1&t&&(o.Wb(0,"mat-icon",12),o.Fc(1,"edit"),o.Vb())}function T(t,e){if(1&t){const t=o.Xb();o.Ub(0),o.Wb(1,"mat-list-item",8),o.ec("click",(function(){o.wc(t);const i=e.$implicit;return o.ic(2).onDrinkItemClick(i)})),o.Dc(2,O,2,0,"mat-icon",9),o.Wb(3,"div",10),o.Fc(4),o.jc(5,"inventoryDrinkDisplay"),o.Vb(),o.Wb(6,"div",11),o.Fc(7),o.Vb(),o.Vb(),o.Tb()}if(2&t){const t=e.$implicit,i=o.ic(2);o.Db(2),o.oc("ngIf",!i.fds.mobileQuery.matches),o.Db(2),o.Gc(o.kc(5,3,t)),o.Db(3),o.Hc(" ",t.fireKey," ")}}function w(t,e){1&t&&o.Rb(0,"mat-divider")}function E(t,e){if(1&t&&(o.Ub(0),o.Wb(1,"div",6),o.Fc(2),o.Vb(),o.Dc(3,T,8,5,"ng-container",5),o.Dc(4,w,1,0,"mat-divider",7),o.Tb()),2&t){const t=e.$implicit,i=e.last;o.Db(2),o.Gc(t.header.display),o.Db(1),o.oc("ngForOf",t.links),o.Db(1),o.oc("ngIf",!i)}}let S=(()=>{class t{constructor(t,e,i,r){this.mis=t,this.fds=e,this.router=i,this.route=r,this.compDest$=new p.a,this.allDrinksList=[]}ngOnInit(){this.mis.allDrinksList$.pipe(Object(f.a)(this.compDest$)).subscribe(([t,e,i])=>{const r=new h.a(t,e,i);this.createAllDrinksList(r)},t=>{},()=>{})}createAllDrinksList(t){for(const e in t)this.allDrinksList.push(new b.a(new b.b(e),t[e]))}onDrinkItemClick(t){this.router.navigate([t.seriesName,t.fireKey],{relativeTo:this.route})}ngOnDestroy(){this.compDest$.next()}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(v),o.Qb(y.a),o.Qb(c.c),o.Qb(c.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-management-inventory"]],decls:8,vars:1,consts:[[1,"row","mb-3"],[1,"col-sm-6","offset-md-3"],["id","checkout-heading",1,"order-label","mb-3","comf","center-align"],[1,"row"],[1,"col-12"],[4,"ngFor","ngForOf"],["mat-subheader",""],[4,"ngIf"],[1,"drink-item",3,"click"],["mat-list-icon","",4,"ngIf"],["mat-line",""],["mat-line","",1,"text-muted","fs-10"],["mat-list-icon",""]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"div",1),o.Wb(2,"div",2),o.Fc(3," Inventory "),o.Vb(),o.Vb(),o.Vb(),o.Wb(4,"div",3),o.Wb(5,"div",4),o.Wb(6,"mat-list"),o.Dc(7,E,5,3,"ng-container",5),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Db(7),o.oc("ngForOf",e.allDrinksList))},directives:[F.a,r.k,F.f,r.l,F.c,V.j,W.a,F.b,L.a],pipes:[I],styles:[".drink-item[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),U=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-management-users"]],decls:1,vars:0,template:function(t,e){1&t&&o.Fc(0,"Users\n")},styles:[""]}),t})(),C=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["app-managment-archives"]],decls:1,vars:0,template:function(t,e){1&t&&o.Fc(0,"Archives\n")},styles:[""]}),t})();var _=i("eIep"),R=i("Pk+l"),A=i("E8I7"),M=i("LvDl"),N=i("MPcn"),x=i("kmnG"),K=i("qFsG"),j=i("d3UM"),$=i("bTqV"),q=i("B6IJ");function G(t,e){1&t&&(o.Wb(0,"mat-error"),o.Fc(1," Please enter only unaccented alphabetical letters, A\u2013Z or a\u2013z. "),o.Vb())}function P(t,e){1&t&&(o.Wb(0,"mat-error"),o.Fc(1," Field is "),o.Wb(2,"strong"),o.Fc(3,"required"),o.Vb(),o.Vb())}function Q(t,e){1&t&&(o.Wb(0,"mat-error"),o.Fc(1," Please enter only unaccented alphabetical letters, A\u2013Z or a\u2013z. "),o.Vb())}function B(t,e){1&t&&(o.Wb(0,"mat-error"),o.Fc(1," Field is "),o.Wb(2,"strong"),o.Fc(3,"required"),o.Vb(),o.Vb())}function X(t,e){if(1&t&&(o.Wb(0,"mat-option",19),o.Fc(1),o.Vb()),2&t){const t=e.$implicit;o.oc("value",t),o.Db(1),o.Hc(" ",t.seriesDisplay," ")}}function J(t,e){1&t&&(o.Wb(0,"mat-error"),o.Fc(1," Please enter only integers and decimals. "),o.Vb())}function Y(t,e){if(1&t){const t=o.Xb();o.Ub(0),o.Wb(1,"div",3),o.Wb(2,"div",4),o.Wb(3,"div",5),o.Fc(4," Drink Detail "),o.Vb(),o.Wb(5,"div"),o.Fc(6),o.jc(7,"dateDisplay"),o.Vb(),o.Vb(),o.Vb(),o.Wb(8,"div",6),o.Wb(9,"div",7),o.Wb(10,"form",8),o.Wb(11,"table",9),o.Wb(12,"tr"),o.Wb(13,"td"),o.Wb(14,"mat-form-field",9),o.Wb(15,"mat-label"),o.Fc(16,"Drink Display Name"),o.Vb(),o.Rb(17,"input",10),o.Dc(18,G,2,0,"mat-error",11),o.Dc(19,P,4,0,"mat-error",11),o.Vb(),o.Vb(),o.Vb(),o.Wb(20,"tr"),o.Wb(21,"td"),o.Wb(22,"mat-form-field",9),o.Wb(23,"mat-label"),o.Fc(24,"Drink ID"),o.Vb(),o.Rb(25,"input",12),o.Dc(26,Q,2,0,"mat-error",11),o.Dc(27,B,4,0,"mat-error",11),o.Vb(),o.Vb(),o.Vb(),o.Wb(28,"tr"),o.Wb(29,"td"),o.Wb(30,"mat-form-field",9),o.Wb(31,"mat-label"),o.Fc(32,"Drink Series"),o.Vb(),o.Wb(33,"mat-select",13),o.Dc(34,X,2,2,"mat-option",14),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(35,"tr"),o.Wb(36,"td"),o.Wb(37,"mat-form-field",9),o.Wb(38,"mat-label"),o.Fc(39,"Drink Cost"),o.Vb(),o.Rb(40,"input",15),o.Dc(41,J,2,0,"mat-error",11),o.Wb(42,"span",16),o.Fc(43,"$\xa0"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Wb(44,"div",17),o.Wb(45,"div",7),o.Wb(46,"button",18),o.ec("click",(function(){return o.wc(t),o.ic(2).onUpdate()})),o.Fc(47,"Update"),o.Vb(),o.Vb(),o.Vb(),o.Tb()}if(2&t){const t=o.ic(2);o.Db(6),o.Hc("Last updated: ",o.lc(7,9,t.lastUpdated,"FROMNOW"),""),o.Db(4),o.oc("formGroup",t.detailFg),o.Db(8),o.oc("ngIf",t.detailFg.get("display").hasError("lettersOnly")&&!t.detailFg.get("display").hasError("required")),o.Db(1),o.oc("ngIf",t.detailFg.get("display").hasError("required")),o.Db(7),o.oc("ngIf",t.detailFg.get("name").hasError("lettersOnly")&&!t.detailFg.get("name").hasError("required")),o.Db(1),o.oc("ngIf",t.detailFg.get("name").hasError("required")),o.Db(7),o.oc("ngForOf",t.seriesList),o.Db(7),o.oc("ngIf",t.detailFg.get("drinkCost").hasError("numbersOnly")),o.Db(5),o.oc("disabled",t.detailFg.invalid)}}function z(t,e){if(1&t&&(o.Ub(0),o.Dc(1,Y,48,12,"ng-container",0),o.Tb()),2&t){const t=o.ic(),e=o.tc(2);o.Db(1),o.oc("ngIf",null!==t.currentDrink)("ngIfElse",e)}}function H(t,e){1&t&&o.Fc(0," Drink item is invalid.\n")}function Z(t,e){1&t&&o.Fc(0," Loading drink item...\n")}const tt=[{path:"",component:m,children:[{path:"",redirectTo:"inventory",pathMatch:"full"},{path:"inventory",component:S},{path:"inventory/:drinkSeries/:id",component:(()=>{class t{constructor(t,e,i,r){this.router=t,this.route=e,this.is=i,this.fb=r,this.seriesList=[new A.c("Milk Tea",A.b.MILK_TEA),new A.c("Creative Mix",A.b.FRUIT_TEA),new A.c("Yogurt",A.b.YOGURT)],this.route.paramMap.pipe(Object(_.a)(t=>{const e=this.getFirebaseDrinkSeries(t.get("drinkSeries")),i=t.get("id");return this.is.getDrinkDetailObs(e,i)})).subscribe(t=>{this.isDrinkDetailValid(t)?(this.currentDrink=t,this.createDetailFg(),console.log(this.detailFg),this.lastUpdated=this.getLastUpdated()):this.currentDrink=null})}ngOnInit(){}isDrinkDetailValid(t){return t.display&&t.name&&t.seriesDisplay&&t.seriesName}createDetailFg(){this.detailFg=this.fb.group({display:R.a(this.currentDrink.display,!1,[n.s.required,N.a]),name:R.a(this.currentDrink.name,!1,[n.s.required,N.a]),drinkSeries:R.a(this.getFetchedDrinkSeriesValue(),!1,[n.s.required]),drinkCost:R.b(this.getDrinkCost(),!1,[N.b])})}getFetchedDrinkSeriesValue(){const t=M.findIndex(this.seriesList,["seriesName",this.currentDrink.seriesName]);return this.seriesList[t]}getDrinkCost(){let t="0.00";return this.currentDrink.price&&(t=this.currentDrink.price),t}getLastUpdated(){let t=0;return this.currentDrink.lastUpdated&&(t=this.currentDrink.lastUpdated),t}onUpdate(){console.log(this.detailFg.value)}getFirebaseDrinkSeries(t){let e;switch(t){case"milkTea":e="teas";break;case"creativeMix":e="creative-mix";break;case"yogurt":e="yogurt"}return e}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(c.c),o.Qb(c.a),o.Qb(v),o.Qb(n.d))},t.\u0275cmp=o.Kb({type:t,selectors:[["app-inventory-drink-detail"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["drinkInvalid",""],["loadingDrink",""],[1,"row","mb-3"],[1,"col-sm-12","text-center"],[1,"order-label","mb-3","comf","center-align"],[1,"row"],[1,"col-12"],[1,"detail-form",3,"formGroup"],[1,"full-w"],["matInput","","formControlName","display"],[4,"ngIf"],["matInput","","formControlName","name"],["formControlName","drinkSeries"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","drinkCost",1,"field-right-align"],["matPrefix",""],[1,"row","mt-2"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,e){if(1&t&&(o.Dc(0,z,2,2,"ng-container",0),o.Dc(1,H,1,0,"ng-template",null,1,o.Ec),o.Dc(3,Z,1,0,"ng-template",null,2,o.Ec)),2&t){const t=o.tc(4);o.oc("ngIf",void 0!==e.currentDrink)("ngIfElse",t)}},directives:[r.l,n.t,n.o,n.i,x.c,x.g,K.b,n.b,n.n,n.g,j.a,r.k,x.h,$.a,x.b,V.n],pipes:[q.a],styles:[".detail-form[_ngcontent-%COMP%]{min-width:150px;max-width:400px;width:100%}.field-right-align[_ngcontent-%COMP%]{text-align:right}"]}),t})()},{path:"users",component:U},{path:"archives",component:C}]}];let et=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(tt)],c.f]}),t})();var it=i("re6+");let rt=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},providers:[],imports:[[r.c,n.r,n.j,c.f,s.a,a.a,it.a,l,et]]}),t})()}}]);