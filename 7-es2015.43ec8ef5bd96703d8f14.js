(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{txKf:function(t,n,r){"use strict";r.r(n),r.d(n,"AuthModule",(function(){return Q}));var a=r("3Pt+"),e=r("UmVK"),i=r("37S3"),s=r("ofXK"),c=r("tyNb"),o=r("fXoL"),b=r("IYfF");let m=(()=>{class t{constructor(t){this.as=t}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)(o.Pb(b.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-auth-home"]],decls:2,vars:0,consts:[[1,"container","mb-3"]],template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Qb(1,"router-outlet"),o.Ub())},directives:[c.g],styles:[""]}),t})();var l=r("Pk+l"),u=r("KJJU"),g=r("AytR"),d=r("Wp6s"),p=r("kmnG"),h=r("qFsG"),f=r("NFeN"),w=r("bSwM"),C=r("Frqi"),v=r("bTqV");function U(t,n){if(1&t&&(o.Vb(0,"div"),o.Vb(1,"div",20),o.Dc(2),o.Ub(),o.Ub()),2&t){const t=o.gc();o.Cb(2),o.Fc(" ",t.as.authErrMsg," ")}}function V(t,n){1&t&&o.Qb(0,"app-loading-spinner",21),2&t&&o.mc("diameter",25)}function F(t,n){if(1&t){const t=o.Wb();o.Vb(0,"button",22),o.cc("click",(function(){return o.uc(t),o.gc().onSignInClick()})),o.Dc(1,"Sign in"),o.Ub()}if(2&t){const t=o.gc();o.mc("disabled",t.idFc.invalid)}}const I=function(){return["../","signup"]};let y=(()=>{class t{constructor(t,n,r){this.fb=t,this.as=n,this.router=r,this.signInTitle="Sign in with your BobaShop Account",this.avartarImgSrc="assets/images/main/user/signin-avatar-default.png";let e=null,i=null;this.as.authErrMsg=null,g.a.production||(e="tz2z@test.com",i="123456"),this.signFg=this.fb.group({id:l.a(e,!1,[a.t.required,a.t.email]),password:l.a(i,!1),saveSession:l.a(!0,!1)})}get idFc(){return this.signFg.get("id")}get passwordFc(){return this.signFg.get("password")}ngOnInit(){this.signFg.valueChanges.subscribe(t=>{this.as.authErrMsg=null})}onSignInClick(){if(this.passwordFc.value&&""!==this.passwordFc.value.trim()){const t=new u.a(this.signFg.value.id,this.signFg.value.password,this.signFg.value.saveSession);this.signIn(t)}else this.as.authErrMsg="Enter a password."}signIn(t){this.as.loginUser(t)}}return t.\u0275fac=function(n){return new(n||t)(o.Pb(a.e),o.Pb(b.a),o.Pb(c.c))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-auth-signin"]],decls:38,vars:11,consts:[[1,"row","mb-3","comf","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","avartar",1,"img-h-100","border-circ",3,"src"],["appearance","outline",1,"mb-3","full-w"],["matInput","","placeholder","Email",3,"formControlName","keyup.enter"],["matSuffix",""],["appearance","outline",1,"full-w"],["matInput","","placeholder","Password","type","password",3,"formControlName","keyup.enter"],[1,"left-align"],["color","primary",1,"example-margin",3,"formControlName"],[4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"disabled","click",4,"ngIf"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"disabled","click"]],template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Vb(2,"div",2),o.Dc(3),o.Ub(),o.Vb(4,"div",3),o.Dc(5," Don't have an account? "),o.Vb(6,"a",4),o.Dc(7,"Register here."),o.Ub(),o.Ub(),o.Vb(8,"div",5),o.Vb(9,"mat-card",6),o.Vb(10,"mat-card-content"),o.Vb(11,"div",7),o.Qb(12,"img",8),o.Ub(),o.Vb(13,"div"),o.Vb(14,"mat-form-field",9),o.Vb(15,"mat-label"),o.Dc(16,"Email"),o.Ub(),o.Vb(17,"input",10),o.cc("keyup.enter",(function(){return n.onSignInClick()})),o.Ub(),o.Vb(18,"mat-icon",11),o.Dc(19,"email"),o.Ub(),o.Vb(20,"mat-hint"),o.Dc(21,"Email associated with your account."),o.Ub(),o.Vb(22,"mat-error"),o.Dc(23,"Invalid email format."),o.Ub(),o.Ub(),o.Ub(),o.Vb(24,"mat-form-field",12),o.Vb(25,"mat-label"),o.Dc(26,"Password"),o.Ub(),o.Vb(27,"input",13),o.cc("keyup.enter",(function(){return n.onSignInClick()})),o.Ub(),o.Vb(28,"mat-icon",11),o.Dc(29,"https"),o.Ub(),o.Ub(),o.Vb(30,"div",14),o.Vb(31,"mat-checkbox",15),o.Dc(32," Keep me logged in. "),o.Ub(),o.Ub(),o.Bc(33,U,3,1,"div",16),o.Ub(),o.Vb(34,"mat-card-actions"),o.Vb(35,"div",17),o.Bc(36,V,1,1,"app-loading-spinner",18),o.Bc(37,F,2,1,"button",19),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&t&&(o.Cb(3),o.Fc(" ",n.signInTitle," "),o.Cb(3),o.mc("routerLink",o.nc(10,I)),o.Cb(3),o.mc("formGroup",n.signFg),o.Cb(3),o.mc("src",n.avartarImgSrc,o.wc),o.Cb(5),o.mc("formControlName","id"),o.Cb(10),o.mc("formControlName","password"),o.Cb(4),o.mc("formControlName","saveSession"),o.Cb(2),o.mc("ngIf",n.as.authErrMsg),o.Cb(3),o.mc("ngIf",n.as.authLoading),o.Cb(1),o.mc("ngIf",!n.as.authLoading))},directives:[c.e,d.a,a.p,a.j,d.d,p.c,p.g,h.b,a.c,a.o,a.h,f.a,p.i,p.f,p.b,w.a,s.l,d.b,C.a,v.a],styles:["@media only screen and (min-width:630px){.signin-card[_ngcontent-%COMP%]{width:30rem}}@media only screen and (max-width:630px){.signin-card[_ngcontent-%COMP%]{min-width:100%}}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:150px}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}"]}),t})();var M=r("aiZK"),P=r("XNiG"),D=r("1G5W");function k(t,n){1&t&&(o.Vb(0,"mat-error"),o.Dc(1,"Invalid email format."),o.Ub())}function E(t,n){1&t&&(o.Vb(0,"mat-error"),o.Dc(1,"Email is required."),o.Ub())}function S(t,n){1&t&&(o.Vb(0,"mat-error"),o.Dc(1," This email is already taken. If you have already signed up, try logging in instead. "),o.Ub())}function x(t,n){1&t&&(o.Vb(0,"mat-error"),o.Dc(1,"Please enter a password."),o.Ub())}function O(t,n){1&t&&(o.Vb(0,"mat-error"),o.Dc(1,"Needs to be at least 6 characters."),o.Ub())}function N(t,n){1&t&&(o.Vb(0,"mat-error"),o.Dc(1," Password does not match. "),o.Ub())}function _(t,n){if(1&t&&(o.Vb(0,"div",23),o.Vb(1,"div",24),o.Dc(2),o.Ub(),o.Ub()),2&t){const t=o.gc();o.Cb(2),o.Fc(" ",t.as.authErrMsg," ")}}function B(t,n){1&t&&o.Qb(0,"app-loading-spinner",25),2&t&&o.mc("diameter",25)}function A(t,n){if(1&t){const t=o.Wb();o.Vb(0,"button",26),o.cc("click",(function(){return o.uc(t),o.gc().onSignupClick()})),o.Dc(1," Create account "),o.Ub()}}const q=function(){return["../","signin"]};let G=(()=>{class t{constructor(t,n,r,e){this.fb=t,this.as=n,this.router=r,this.ngZone=e,this.matcher=new M.a,this.signInTitle="Create your BobaShop Account.",this.avartarImgSrc="assets/images/main/user/signin-avatar-default.png",this.compDest$=new P.a;let i=null,s=null;this.as.authErrMsg=null,g.a.production||(i="t@test.com",s="123456"),this.signFg=this.fb.group({email:l.a(i,!1,[a.t.required,a.t.email]),password:l.a(s,!1,[a.t.required]),repassword:l.a(s,!1,[a.t.required])})}get emailFc(){return this.signFg.get("email")}get passwordFc(){return this.signFg.get("password")}get repasswordFc(){return this.signFg.get("repassword")}ngOnInit(){this.signFg.valueChanges.subscribe(t=>{this.as.authErrMsg=null,this.repasswordFc.setErrors(this.passwordFc.value!==this.repasswordFc.value?{passwordDoesNotMatch:!0}:null)}),this.as.signupErrorOccured$.pipe(Object(D.a)(this.compDest$)).subscribe(t=>{switch(t){case"email-already-in-use":this.emailFc.setErrors({emailExists:!0});break;case"invalid-email":this.emailFc.setErrors({email:!0});break;case"weak-password":this.passwordFc.setErrors({weak:!0});break;default:this.emailFc.setErrors(null)}})}onSignupClick(){const t=this.signFg.value;if(t.password!==t.repassword)this.as.authErrMsg="Password does not match.";else{const n=new u.a(t.email,t.password,!1);this.signup(n)}}signup(t){this.as.createUser(t)}ngOnDestroy(){this.compDest$.next()}}return t.\u0275fac=function(n){return new(n||t)(o.Pb(a.e),o.Pb(b.a),o.Pb(c.c),o.Pb(o.B))},t.\u0275cmp=o.Jb({type:t,selectors:[["app-auth-signup"]],decls:47,vars:20,consts:[[1,"row","mb-3","comf","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","logo",1,"img-h-100","border-circ",3,"src"],[1,"comf"],[1,"left-align","mb-3"],["appearance","outline",1,"mb-2","full-w"],["matInput","","placeholder","Email",3,"formControlName","errorStateMatcher"],["matSuffix",""],[4,"ngIf"],["appearance","outline",1,"password-input"],["matInput","","placeholder","Password","type","password",3,"formControlName","errorStateMatcher"],["appearance","outline",1,"repassword-input"],["matInput","","placeholder","Confirm password","type","password",3,"formControlName","errorStateMatcher","keyup.enter"],["class","err-msg-parent",4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"click",4,"ngIf"],[1,"err-msg-parent"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"click"]],template:function(t,n){1&t&&(o.Vb(0,"div",0),o.Vb(1,"div",1),o.Vb(2,"div",2),o.Dc(3),o.Ub(),o.Vb(4,"div",3),o.Vb(5,"a",4),o.Dc(6,"Go sign in instead"),o.Ub(),o.Ub(),o.Vb(7,"div",5),o.Vb(8,"mat-card",6),o.Vb(9,"mat-card-content"),o.Vb(10,"div",7),o.Qb(11,"img",8),o.Vb(12,"span",9),o.Dc(13,"BobaShop Account"),o.Ub(),o.Ub(),o.Vb(14,"div",10),o.Vb(15,"mat-form-field",11),o.Vb(16,"mat-label"),o.Dc(17,"Email"),o.Ub(),o.Qb(18,"input",12),o.Vb(19,"mat-icon",13),o.Dc(20,"email"),o.Ub(),o.Vb(21,"mat-hint"),o.Dc(22,"This will be your login email."),o.Ub(),o.Bc(23,k,2,0,"mat-error",14),o.Bc(24,E,2,0,"mat-error",14),o.Bc(25,S,2,0,"mat-error",14),o.Ub(),o.Ub(),o.Vb(26,"div"),o.Vb(27,"mat-form-field",15),o.Vb(28,"mat-label"),o.Dc(29,"Password"),o.Ub(),o.Qb(30,"input",16),o.Vb(31,"mat-icon",13),o.Dc(32,"https"),o.Ub(),o.Bc(33,x,2,0,"mat-error",14),o.Bc(34,O,2,0,"mat-error",14),o.Ub(),o.Vb(35,"mat-form-field",17),o.Vb(36,"mat-label"),o.Dc(37,"Confirm"),o.Ub(),o.Vb(38,"input",18),o.cc("keyup.enter",(function(){return n.onSignupClick()})),o.Ub(),o.Vb(39,"mat-icon",13),o.Dc(40,"https"),o.Ub(),o.Bc(41,N,2,0,"mat-error",14),o.Ub(),o.Ub(),o.Bc(42,_,3,1,"div",19),o.Ub(),o.Vb(43,"mat-card-actions"),o.Vb(44,"div",20),o.Bc(45,B,1,1,"app-loading-spinner",21),o.Bc(46,A,2,0,"button",22),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&t&&(o.Cb(3),o.Fc(" ",n.signInTitle," "),o.Cb(2),o.mc("routerLink",o.nc(19,q)),o.Cb(3),o.mc("formGroup",n.signFg),o.Cb(3),o.mc("src",n.avartarImgSrc,o.wc),o.Cb(7),o.mc("formControlName","email")("errorStateMatcher",n.matcher),o.Cb(5),o.mc("ngIf",n.emailFc.hasError("email")),o.Cb(1),o.mc("ngIf",n.emailFc.hasError("required")),o.Cb(1),o.mc("ngIf",n.emailFc.hasError("emailExists")),o.Cb(5),o.mc("formControlName","password")("errorStateMatcher",n.matcher),o.Cb(3),o.mc("ngIf",n.passwordFc.hasError("required")),o.Cb(1),o.mc("ngIf",n.passwordFc.hasError("weak")),o.Cb(4),o.mc("formControlName","repassword")("errorStateMatcher",n.matcher),o.Cb(3),o.mc("ngIf",n.repasswordFc&&n.repasswordFc.hasError("passwordDoesNotMatch")),o.Cb(1),o.mc("ngIf",n.as.authErrMsg),o.Cb(3),o.mc("ngIf",n.as.authLoading),o.Cb(1),o.mc("ngIf",!n.as.authLoading))},directives:[c.e,d.a,a.p,a.j,d.d,p.c,p.g,h.b,a.c,a.o,a.h,f.a,p.i,p.f,s.l,d.b,p.b,C.a,v.a],styles:[".signin-card[_ngcontent-%COMP%]{min-width:20rem}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px;font-weight:800}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}.err-msg-parent[_ngcontent-%COMP%]{max-width:25rem;margin:auto}@media only screen and (min-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:.5rem}}@media only screen and (max-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:0;width:100%}.repassword-input[_ngcontent-%COMP%]{width:100%}}"]}),t})();var L=r("oaSZ");const T=[{path:"",component:m,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:y,canActivate:[L.b]},{path:"signup",component:G,canActivate:[L.b]}]}];let j=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(n){return new(n||t)},imports:[[c.f.forChild(T)],c.f]}),t})();var J=r("UPf0");let Q=(()=>{class t{}return t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({factory:function(n){return new(n||t)},providers:[],imports:[[s.c,a.k,a.s,i.a,e.a,J.a,j]]}),t})()}}]);