function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var a=0;a<n.length;a++){var e=n[a];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}function _createClass(t,n,a){return n&&_defineProperties(t.prototype,n),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{txKf:function(t,n,a){"use strict";a.r(n),a.d(n,"AuthModule",(function(){return H}));var e,r=a("3Pt+"),i=a("UmVK"),s=a("37S3"),o=a("ofXK"),c=a("tyNb"),b=a("fXoL"),l=a("IYfF"),u=((e=function(){function t(n){_classCallCheck(this,t),this.as=n}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||e)(b.Qb(l.a))},e.\u0275cmp=b.Kb({type:e,selectors:[["app-auth-home"]],decls:2,vars:0,consts:[[1,"container","mb-3"]],template:function(t,n){1&t&&(b.Wb(0,"div",0),b.Rb(1,"router-outlet"),b.Vb())},directives:[c.g],styles:[""]}),e),m=a("Pk+l"),d=a("KJJU"),g=a("AytR"),p=a("Wp6s"),f=a("kmnG"),h=a("qFsG"),w=a("NFeN"),v=a("bSwM"),F=a("Frqi"),V=a("bTqV");function W(t,n){if(1&t&&(b.Wb(0,"div"),b.Wb(1,"div",20),b.Fc(2),b.Vb(),b.Vb()),2&t){var a=b.ic();b.Db(2),b.Hc(" ",a.as.authErrMsg," ")}}function C(t,n){1&t&&b.Rb(0,"app-loading-spinner",21),2&t&&b.oc("diameter",25)}function y(t,n){if(1&t){var a=b.Xb();b.Wb(0,"button",22),b.ec("click",(function(){return b.wc(a),b.ic().onSignInClick()})),b.Fc(1,"Sign in"),b.Vb()}if(2&t){var e=b.ic();b.oc("disabled",e.idFc.invalid)}}var D,k=function(){return["../","signup"]},I=((D=function(){function t(n,a,e){_classCallCheck(this,t),this.fb=n,this.as=a,this.router=e,this.signInTitle="Sign in with your BobaShop Account",this.avartarImgSrc="assets/images/main/user/signin-avatar-default.png";var i=null,s=null;this.as.authErrMsg=null,g.a.production||(i="t@test.com",s="123456"),this.signFg=this.fb.group({id:m.a(i,!1,[r.s.required,r.s.email]),password:m.a(s,!1),saveSession:m.a(!0,!1)})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.signFg.valueChanges.subscribe((function(n){t.as.authErrMsg=null}))}},{key:"onSignInClick",value:function(){if(this.passwordFc.value&&""!==this.passwordFc.value.trim()){var t=new d.a(this.signFg.value.id,this.signFg.value.password,this.signFg.value.saveSession);this.signIn(t)}else this.as.authErrMsg="Enter a password."}},{key:"signIn",value:function(t){this.as.loginUser(t)}},{key:"idFc",get:function(){return this.signFg.get("id")}},{key:"passwordFc",get:function(){return this.signFg.get("password")}}]),t}()).\u0275fac=function(t){return new(t||D)(b.Qb(r.d),b.Qb(l.a),b.Qb(c.c))},D.\u0275cmp=b.Kb({type:D,selectors:[["app-auth-signin"]],decls:38,vars:11,consts:[[1,"row","mb-3","comf","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","avartar",1,"img-h-100","border-circ",3,"src"],["appearance","outline",1,"mb-3","full-w"],["matInput","","placeholder","Email",3,"formControlName"],["matSuffix",""],["appearance","outline",1,"full-w"],["matInput","","placeholder","Password","type","password",3,"formControlName"],[1,"left-align"],["color","primary",1,"example-margin",3,"formControlName"],[4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"disabled","click",4,"ngIf"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"disabled","click"]],template:function(t,n){1&t&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Fc(3),b.Vb(),b.Wb(4,"div",3),b.Fc(5," Don't have an account? "),b.Wb(6,"a",4),b.Fc(7,"Register here."),b.Vb(),b.Vb(),b.Wb(8,"div",5),b.Wb(9,"mat-card",6),b.Wb(10,"mat-card-content"),b.Wb(11,"div",7),b.Rb(12,"img",8),b.Vb(),b.Wb(13,"div"),b.Wb(14,"mat-form-field",9),b.Wb(15,"mat-label"),b.Fc(16,"Email"),b.Vb(),b.Rb(17,"input",10),b.Wb(18,"mat-icon",11),b.Fc(19,"email"),b.Vb(),b.Wb(20,"mat-hint"),b.Fc(21,"Email associated with your account."),b.Vb(),b.Wb(22,"mat-error"),b.Fc(23,"Invalid email format."),b.Vb(),b.Vb(),b.Vb(),b.Wb(24,"mat-form-field",12),b.Wb(25,"mat-label"),b.Fc(26,"Password"),b.Vb(),b.Rb(27,"input",13),b.Wb(28,"mat-icon",11),b.Fc(29,"https"),b.Vb(),b.Vb(),b.Wb(30,"div",14),b.Wb(31,"mat-checkbox",15),b.Fc(32," Keep me logged in. "),b.Vb(),b.Vb(),b.Dc(33,W,3,1,"div",16),b.Vb(),b.Wb(34,"mat-card-actions"),b.Wb(35,"div",17),b.Dc(36,C,1,1,"app-loading-spinner",18),b.Dc(37,y,2,1,"button",19),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Db(3),b.Hc(" ",n.signInTitle," "),b.Db(3),b.oc("routerLink",b.pc(10,k)),b.Db(3),b.oc("formGroup",n.signFg),b.Db(3),b.oc("src",n.avartarImgSrc,b.yc),b.Db(5),b.oc("formControlName","id"),b.Db(10),b.oc("formControlName","password"),b.Db(4),b.oc("formControlName","saveSession"),b.Db(2),b.oc("ngIf",n.as.authErrMsg),b.Db(3),b.oc("ngIf",n.as.authLoading),b.Db(1),b.oc("ngIf",!n.as.authLoading))},directives:[c.e,p.a,r.o,r.i,p.d,f.c,f.g,h.b,r.b,r.n,r.g,w.a,f.i,f.f,f.b,v.a,o.l,p.b,F.a,V.a],styles:["@media only screen and (min-width:630px){.signin-card[_ngcontent-%COMP%]{width:30rem}}@media only screen and (max-width:630px){.signin-card[_ngcontent-%COMP%]{min-width:100%}}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:150px}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}"]}),D),M=a("aiZK"),P=a("XNiG"),E=a("1G5W");function _(t,n){1&t&&(b.Wb(0,"mat-error"),b.Fc(1,"Invalid email format."),b.Vb())}function O(t,n){1&t&&(b.Wb(0,"mat-error"),b.Fc(1,"Email is required."),b.Vb())}function S(t,n){1&t&&(b.Wb(0,"mat-error"),b.Fc(1," This email is already taken. If you have already signed up, try logging in instead. "),b.Vb())}function x(t,n){1&t&&(b.Wb(0,"mat-error"),b.Fc(1,"Please enter a password."),b.Vb())}function N(t,n){1&t&&(b.Wb(0,"mat-error"),b.Fc(1,"Needs to be at least 6 characters."),b.Vb())}function R(t,n){1&t&&(b.Wb(0,"mat-error"),b.Fc(1," Password does not match. "),b.Vb())}function q(t,n){if(1&t&&(b.Wb(0,"div",23),b.Wb(1,"div",24),b.Fc(2),b.Vb(),b.Vb()),2&t){var a=b.ic();b.Db(2),b.Hc(" ",a.as.authErrMsg," ")}}function A(t,n){1&t&&b.Rb(0,"app-loading-spinner",25),2&t&&b.oc("diameter",25)}function G(t,n){if(1&t){var a=b.Xb();b.Wb(0,"button",26),b.ec("click",(function(){return b.wc(a),b.ic().onSignupClick()})),b.Fc(1," Create account "),b.Vb()}}var K,L,T,Q=function(){return["../","signin"]},j=[{path:"",component:u,children:[{path:"",redirectTo:"signin",pathMatch:"full"},{path:"signin",component:I},{path:"signup",component:(K=function(){function t(n,a,e,i){_classCallCheck(this,t),this.fb=n,this.as=a,this.router=e,this.ngZone=i,this.matcher=new M.b,this.signInTitle="Create your BobaShop Account.",this.avartarImgSrc="assets/images/main/user/signin-avatar-default.png",this.compDest$=new P.a;var s=null,o=null;this.as.authErrMsg=null,g.a.production||(s="t@test.com",o="123456"),this.signFg=this.fb.group({email:m.a(s,!1,[r.s.required,r.s.email]),password:m.a(o,!1,[r.s.required]),repassword:m.a(o,!1,[r.s.required])})}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.signFg.valueChanges.subscribe((function(n){t.as.authErrMsg=null,t.repasswordFc.setErrors(t.passwordFc.value!==t.repasswordFc.value?{passwordDoesNotMatch:!0}:null)})),this.as.signupErrorOccured$.pipe(Object(E.a)(this.compDest$)).subscribe((function(n){switch(n){case"email-already-in-use":t.emailFc.setErrors({emailExists:!0});break;case"invalid-email":t.emailFc.setErrors({email:!0});break;case"weak-password":t.passwordFc.setErrors({weak:!0});break;default:t.emailFc.setErrors(null)}}))}},{key:"onSignupClick",value:function(){var t=this.signFg.value;if(t.password!==t.repassword)this.as.authErrMsg="Password does not match.";else{var n=new d.a(t.email,t.password,!1);this.signup(n)}}},{key:"signup",value:function(t){this.as.createUser(t)}},{key:"ngOnDestroy",value:function(){this.compDest$.next()}},{key:"emailFc",get:function(){return this.signFg.get("email")}},{key:"passwordFc",get:function(){return this.signFg.get("password")}},{key:"repasswordFc",get:function(){return this.signFg.get("repassword")}}]),t}(),K.\u0275fac=function(t){return new(t||K)(b.Qb(r.d),b.Qb(l.a),b.Qb(c.c),b.Qb(b.A))},K.\u0275cmp=b.Kb({type:K,selectors:[["app-auth-signup"]],decls:47,vars:20,consts:[[1,"row","mb-3","comf","text-center","mt-3"],[1,"col-sm-12"],[1,"mb-2"],[1,"subtitle","mb-2"],[3,"routerLink"],[1,"signin-card-parent"],[1,"signin-card",3,"formGroup"],[1,"signinAvatarParent","mb-3"],["alt","logo",1,"img-h-100","border-circ",3,"src"],[1,"comf"],[1,"left-align","mb-3"],["appearance","outline",1,"mb-2","full-w"],["matInput","","placeholder","Email",3,"formControlName","errorStateMatcher"],["matSuffix",""],[4,"ngIf"],["appearance","outline",1,"password-input"],["matInput","","placeholder","Password","type","password",3,"formControlName","errorStateMatcher"],["appearance","outline",1,"repassword-input"],["matInput","","placeholder","Confirm password","type","password",3,"formControlName","errorStateMatcher"],["class","err-msg-parent",4,"ngIf"],[1,"center-align"],[3,"diameter",4,"ngIf"],["mat-button","","class","signin-btn",3,"click",4,"ngIf"],[1,"err-msg-parent"],[1,"alert","alert-warning"],[3,"diameter"],["mat-button","",1,"signin-btn",3,"click"]],template:function(t,n){1&t&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Fc(3),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"a",4),b.Fc(6,"Go sign in instead"),b.Vb(),b.Vb(),b.Wb(7,"div",5),b.Wb(8,"mat-card",6),b.Wb(9,"mat-card-content"),b.Wb(10,"div",7),b.Rb(11,"img",8),b.Wb(12,"span",9),b.Fc(13,"BobaShop Account"),b.Vb(),b.Vb(),b.Wb(14,"div",10),b.Wb(15,"mat-form-field",11),b.Wb(16,"mat-label"),b.Fc(17,"Email"),b.Vb(),b.Rb(18,"input",12),b.Wb(19,"mat-icon",13),b.Fc(20,"email"),b.Vb(),b.Wb(21,"mat-hint"),b.Fc(22,"This will be your login email."),b.Vb(),b.Dc(23,_,2,0,"mat-error",14),b.Dc(24,O,2,0,"mat-error",14),b.Dc(25,S,2,0,"mat-error",14),b.Vb(),b.Vb(),b.Wb(26,"div"),b.Wb(27,"mat-form-field",15),b.Wb(28,"mat-label"),b.Fc(29,"Password"),b.Vb(),b.Rb(30,"input",16),b.Wb(31,"mat-icon",13),b.Fc(32,"https"),b.Vb(),b.Dc(33,x,2,0,"mat-error",14),b.Dc(34,N,2,0,"mat-error",14),b.Vb(),b.Wb(35,"mat-form-field",17),b.Wb(36,"mat-label"),b.Fc(37,"Confirm"),b.Vb(),b.Rb(38,"input",18),b.Wb(39,"mat-icon",13),b.Fc(40,"https"),b.Vb(),b.Dc(41,R,2,0,"mat-error",14),b.Vb(),b.Vb(),b.Dc(42,q,3,1,"div",19),b.Vb(),b.Wb(43,"mat-card-actions"),b.Wb(44,"div",20),b.Dc(45,A,1,1,"app-loading-spinner",21),b.Dc(46,G,2,0,"button",22),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Db(3),b.Hc(" ",n.signInTitle," "),b.Db(2),b.oc("routerLink",b.pc(19,Q)),b.Db(3),b.oc("formGroup",n.signFg),b.Db(3),b.oc("src",n.avartarImgSrc,b.yc),b.Db(7),b.oc("formControlName","email")("errorStateMatcher",n.matcher),b.Db(5),b.oc("ngIf",n.emailFc.hasError("email")),b.Db(1),b.oc("ngIf",n.emailFc.hasError("required")),b.Db(1),b.oc("ngIf",n.emailFc.hasError("emailExists")),b.Db(5),b.oc("formControlName","password")("errorStateMatcher",n.matcher),b.Db(3),b.oc("ngIf",n.passwordFc.hasError("required")),b.Db(1),b.oc("ngIf",n.passwordFc.hasError("weak")),b.Db(4),b.oc("formControlName","repassword")("errorStateMatcher",n.matcher),b.Db(3),b.oc("ngIf",n.repasswordFc&&n.repasswordFc.hasError("passwordDoesNotMatch")),b.Db(1),b.oc("ngIf",n.as.authErrMsg),b.Db(3),b.oc("ngIf",n.as.authLoading),b.Db(1),b.oc("ngIf",!n.as.authLoading))},directives:[c.e,p.a,r.o,r.i,p.d,f.c,f.g,h.b,r.b,r.n,r.g,w.a,f.i,f.f,o.l,p.b,f.b,F.a,V.a],styles:[".signin-card[_ngcontent-%COMP%]{min-width:20rem}.signin-card-parent[_ngcontent-%COMP%]{display:flex;justify-content:center}.signinAvatarParent[_ngcontent-%COMP%]{height:50px;font-weight:800}.border-circ[_ngcontent-%COMP%]{border-radius:96px}.signin-btn[_ngcontent-%COMP%]{width:100%;color:#1a8cff;font-weight:800}.subtitle[_ngcontent-%COMP%]{font-size:.8rem}.err-msg-parent[_ngcontent-%COMP%]{max-width:25rem;margin:auto}@media only screen and (min-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:.5rem}}@media only screen and (max-width:530px){.password-input[_ngcontent-%COMP%]{margin-right:0;width:100%}.repassword-input[_ngcontent-%COMP%]{width:100%}}"]}),K)}]}],U=((L=function t(){_classCallCheck(this,t)}).\u0275mod=b.Ob({type:L}),L.\u0275inj=b.Nb({factory:function(t){return new(t||L)},imports:[[c.f.forChild(j)],c.f]}),L),X=a("UPf0"),H=((T=function t(){_classCallCheck(this,t)}).\u0275mod=b.Ob({type:T}),T.\u0275inj=b.Nb({factory:function(t){return new(t||T)},providers:[],imports:[[o.c,r.j,r.r,s.a,i.a,X.a,U]]}),T)}}]);