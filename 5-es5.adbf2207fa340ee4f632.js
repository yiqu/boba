function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{roHT:function(e,t,n){"use strict";n.r(t),n.d(t,"OrderNewModule",(function(){return $t}));var r,i,s,o,a=n("ofXK"),c=n("3Pt+"),l=n("tk/3"),u=n("tyNb"),d=n("AytR"),b=n("fXoL"),f=function e(t,n){_classCallCheck(this,e),this.component=t,this.data=n},p=((s=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||s)},s.\u0275cmp=b.Kb({type:s,selectors:[["ng-component"]],inputs:{data:"data"},decls:7,vars:3,consts:[[1,"ad-banner-bg-img","summer-banner"],[1,"icon-img-parent"],["alt","drink icon",1,"img-h-100",3,"src"],[1,"new-drink-banner-text","comf"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Rb(2,"img",2),b.Vb(),b.Wb(3,"div",3),b.Ec(4),b.Vb(),b.Wb(5,"div",1),b.Rb(6,"img",2),b.Vb(),b.Vb()),2&e&&(b.Db(2),b.oc("src",t.data.imgUrlSrc,b.xc),b.Db(2),b.Gc(" ",t.data.description," "),b.Db(2),b.oc("src",t.data.imgUrlSrc,b.xc))},styles:[".ad-banner-bg-img[_ngcontent-%COMP%]{background-image:url(/assets/images/main/order/banner-bg.png);background-color:#ccc;height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.icon-img-parent[_ngcontent-%COMP%]{display:flex;height:100%}.summer-banner[_ngcontent-%COMP%]{justify-content:center;display:flex;padding:5px;border-radius:100px}.new-drink-banner-text[_ngcontent-%COMP%], .summer-banner-text[_ngcontent-%COMP%]{align-self:flex-end;font-size:14px;font-size:12px;font-weight:800}"]}),s),h=((i=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||i)},i.\u0275cmp=b.Kb({type:i,selectors:[["ng-component"]],inputs:{data:"data"},decls:7,vars:3,consts:[[1,"ad-banner-bg-img","summer-banner"],[1,"icon-img-parent"],["alt","drink icon",1,"img-h-100",3,"src"],[1,"summer-banner-text","comf"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Rb(2,"img",2),b.Vb(),b.Wb(3,"div",3),b.Ec(4),b.Vb(),b.Wb(5,"div",1),b.Rb(6,"img",2),b.Vb(),b.Vb()),2&e&&(b.Db(2),b.oc("src",t.data.imgUrlSrc,b.xc),b.Db(2),b.Gc(" ",t.data.description," "),b.Db(2),b.oc("src",t.data.imgUrlSrc,b.xc))},styles:[".ad-banner-bg-img[_ngcontent-%COMP%]{background-image:url(/assets/images/main/order/banner-bg.png);background-color:#ccc;height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.icon-img-parent[_ngcontent-%COMP%]{display:flex;height:100%}.summer-banner[_ngcontent-%COMP%]{justify-content:center;display:flex;padding:5px;border-radius:100px}.new-drink-banner-text[_ngcontent-%COMP%], .summer-banner-text[_ngcontent-%COMP%]{align-self:flex-end;font-size:14px;font-size:12px;font-weight:800}"]}),i),g=((r=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAds",value:function(){var e=[];return e.push(new f(p,new m("assets/images/main/icons/yogurt-tea-icon.png","New ! Yogurt series has arrived !"))),e.push(new f(h,new m("assets/images/main/icons/fruit-tea-icon.png","Beat the summer heat with a tea !"))),e}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275prov=b.Mb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),m=function e(t,n){_classCallCheck(this,e),this.imgUrlSrc=t,this.description=n},v=((o=function e(t){_classCallCheck(this,e),this.viewContainerRef=t}).\u0275fac=function(e){return new(e||o)(b.Qb(b.Q))},o.\u0275dir=b.Lb({type:o,selectors:[["","ad-banner-host",""]]}),o),k=n("XNiG"),y=n("l5mm"),C=n("1G5W");function O(e,t){}var V,w,W,D,S=((V=function(){function e(t){_classCallCheck(this,e),this.componentFactoryResolver=t,this.ads=[],this.currentAdIndex=-1,this.compDest$=new k.a}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadComponent(),this.getAds()}},{key:"loadComponent",value:function(){if(this.currentAdIndex=(this.currentAdIndex+1)%this.ads.length,this.currentAdIndex>-1){var e=this.ads[this.currentAdIndex],t=this.componentFactoryResolver.resolveComponentFactory(e.component),n=this.adHost.viewContainerRef;n.clear(),n.createComponent(t).instance.data=e.data}}},{key:"getAds",value:function(){var e=this;Object(y.a)(d.a.adBannerInterval).pipe(Object(C.a)(this.compDest$)).subscribe((function(t){e.loadComponent()}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next()}}]),e}()).\u0275fac=function(e){return new(e||V)(b.Qb(b.j))},V.\u0275cmp=b.Kb({type:V,selectors:[["app-shared-ad-banner"]],viewQuery:function(e,t){var n;1&e&&b.Ac(v,!0),2&e&&b.sc(n=b.fc())&&(t.adHost=n.first)},inputs:{ads:"ads"},decls:1,vars:0,consts:[["ad-banner-host",""]],template:function(e,t){1&e&&b.Cc(0,O,0,0,"ng-template",0)},directives:[v],styles:[".ad-banner-bg-img[_ngcontent-%COMP%]{background-image:url(/assets/images/main/order/banner-bg.png);background-color:#ccc;height:100%;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative}.icon-img-parent[_ngcontent-%COMP%]{display:flex;height:100%}.summer-banner[_ngcontent-%COMP%]{justify-content:center;display:flex;padding:5px;border-radius:100px}.new-drink-banner-text[_ngcontent-%COMP%], .summer-banner-text[_ngcontent-%COMP%]{align-self:flex-end;font-size:14px;font-size:12px;font-weight:800}"]}),V),F=function(){return["all"]},_=((W=function(){function e(t,n,r){_classCallCheck(this,e),this.abs=t,this.router=n,this.route=r}return _createClass(e,[{key:"getCurrentTime",value:function(){return(new Date).getTime()}},{key:"goToNew",value:function(){this.router.navigate(["new"],{queryParams:{date:this.getCurrentTime()},relativeTo:this.route})}},{key:"ngOnInit",value:function(){this.setupAds()}},{key:"ngOnDestroy",value:function(){}},{key:"setupAds",value:function(){d.a.adsOn&&(this.ads=this.abs.getAds())}}]),e}()).\u0275fac=function(e){return new(e||W)(b.Qb(g),b.Qb(u.b),b.Qb(u.a))},W.\u0275cmp=b.Kb({type:W,selectors:[["app-order-new"]],decls:12,vars:3,consts:[[1,"container"],[1,"deals-banner","mt-2"],[3,"ads"],[1,"row","mb-2"],[1,"col-sm-12","d-flex","order-nav-group"],[1,"btn","btn-outline-primary","mr-2",3,"click"],[1,"btn","btn-outline-info",3,"routerLink"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Rb(2,"app-shared-ad-banner",2),b.Vb(),b.Rb(3,"hr"),b.Wb(4,"div",3),b.Wb(5,"div",4),b.Wb(6,"button",5),b.ec("click",(function(){return t.goToNew()})),b.Ec(7,"Start new order"),b.Vb(),b.Wb(8,"a",6),b.Ec(9,"My cart"),b.Vb(),b.Vb(),b.Vb(),b.Rb(10,"hr"),b.Rb(11,"router-outlet"),b.Vb()),2&e&&(b.Db(2),b.oc("ads",t.ads),b.Db(6),b.oc("routerLink",b.pc(2,F)))},directives:[S,u.c,u.e],styles:[".deals-banner[_ngcontent-%COMP%]{height:30px}.order-nav-group[_ngcontent-%COMP%]{justify-content:space-between}"]}),W),x=((w=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.router=t,this.route=n,this.route.paramMap.subscribe((function(e){console.log("single order:",e.keys),r.orderId=e.get("id")}))}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||w)(b.Qb(u.b),b.Qb(u.a))},w.\u0275cmp=b.Kb({type:w,selectors:[["app-order-new-order"]],decls:1,vars:1,template:function(e,t){1&e&&b.Ec(0),2&e&&b.Gc("Single order display ",t.orderId,"\n")},styles:[""]}),w),I=n("OO0l"),E=n("KJJU"),M=n("b8ES"),P=((D=function e(){_classCallCheck(this,e),this.refreshComponent$=new k.a}).\u0275fac=function(e){return new(e||D)},D.\u0275prov=b.Mb({token:D,factory:D.\u0275fac,providedIn:"root"}),D);function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new c.e({value:e||null,disabled:t},n,r)}var N=n("B/XX"),A=n("xHqg"),L=n("eIep"),j=n("0IaG"),Q=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!!(e&&e.invalid&&(e.dirty||e.touched||t&&t.submitted))}}]),e}(),R=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"isErrorState",value:function(e,t){return!(!e||!e.invalid)}}]),e}(),B=n("kmnG"),U=n("qFsG"),$=n("NFeN"),G=n("bTqV");function z(e,t){if(1&e&&(b.Wb(0,"mat-error"),b.Ec(1),b.Vb()),2&e){var n=b.ic();b.Db(1),b.Gc("Invalid ",n.data.label,".")}}var K,q,X,J,H,Y,Z=((K=function(){function e(t,n,r){_classCallCheck(this,e),this.dialogRef=t,this.data=n,this.fb=r,this.matcher=new Q,this.inputFc=new c.e,this.inputModel=this.data.initValue,this.inputFc=T(n.initValue,!1,[c.s.required])}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onCancel",value:function(){this.dialogRef.close()}},{key:"onSubmit",value:function(){this.inputFc.valid&&this.dialogRef.close(this.inputFc.value)}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||K)(b.Qb(j.f),b.Qb(j.a),b.Qb(c.d))},K.\u0275cmp=b.Kb({type:K,selectors:[["dialog-single-input"]],decls:19,vars:9,consts:[[1,"comf"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"input-ff","mb-3"],["appearance","outline"],["matInput","",3,"placeholder","formControl","errorStateMatcher"],["matSuffix",""],[4,"ngIf"],["mat-dialog-actions",""],["mat-stroked-button","","color","primary",1,"mr-2",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"h1",1),b.Ec(2),b.Vb(),b.Wb(3,"div",2),b.Wb(4,"div",3),b.Wb(5,"mat-form-field",4),b.Wb(6,"mat-label"),b.Ec(7),b.Vb(),b.Rb(8,"input",5),b.Wb(9,"mat-icon",6),b.Ec(10),b.Vb(),b.Wb(11,"mat-hint"),b.Ec(12),b.Vb(),b.Cc(13,z,2,1,"mat-error",7),b.Vb(),b.Vb(),b.Vb(),b.Wb(14,"div",8),b.Wb(15,"button",9),b.ec("click",(function(){return t.onCancel()})),b.Ec(16,"Cancel"),b.Vb(),b.Wb(17,"button",10),b.ec("click",(function(){return t.onSubmit()})),b.Ec(18,"Save"),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(2),b.Fc(t.data.title),b.Db(5),b.Fc(t.data.label),b.Db(1),b.oc("placeholder",t.data.label)("formControl",t.inputFc)("errorStateMatcher",t.matcher),b.Db(2),b.Fc(t.data.inputIcon),b.Db(2),b.Fc(t.data.hint),b.Db(1),b.oc("ngIf",t.inputFc.hasError("required")),b.Db(4),b.oc("disabled",t.inputFc.invalid))},directives:[j.g,j.d,B.c,B.g,U.b,c.b,c.n,c.f,$.a,B.h,B.f,a.l,j.c,G.a,B.b],styles:[""]}),K),ee=function e(t,n,r,i,s){_classCallCheck(this,e),this.title=t,this.label=n,this.initValue=r,this.inputIcon=i,this.hint=s},te=n("2Vo4"),ne=n("lJxs"),re=n("sSZD"),ie=((q=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.rfd=t,this.firedb=n,this.allUsersr$=new te.a([]),this.BASE_USERS_URL="users",this.usersListFDB=this.firedb.list(this.BASE_USERS_URL),this.allUsersr$=this.usersListFDB.snapshotChanges().pipe(Object(ne.a)((function(e){return r.addfireKey(e)})))}return _createClass(e,[{key:"getSingleUser",value:function(e){}},{key:"addfireKey",value:function(e){return e.map((function(e){return Object.assign({fireKey:e.payload.key},e.payload.val())}))}}]),e}()).\u0275fac=function(e){return new(e||q)(b.ac(M.a),b.ac(re.a))},q.\u0275prov=b.Mb({token:q,factory:q.\u0275fac,providedIn:"root"}),q),se=n("dNgK"),oe=((J=function(){function e(t,n){_classCallCheck(this,e),this.sbr=t,this.data=n,this.displayMessage=n}return _createClass(e,[{key:"onClose",value:function(){this.sbr.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||J)(b.Qb(se.d),b.Qb(se.a))},J.\u0275cmp=b.Kb({type:J,selectors:[["snack-bar-component"]],decls:4,vars:1,consts:[["mat-stroked-button","",3,"click"]],template:function(e,t){1&e&&(b.Wb(0,"h6"),b.Ec(1),b.Vb(),b.Wb(2,"button",0),b.ec("click",(function(){return t.onClose()})),b.Ec(3,"Close"),b.Vb()),2&e&&(b.Db(1),b.Fc(t.displayMessage))},directives:[G.a],styles:[""]}),J),ae=((X=function(){function e(t){_classCallCheck(this,e),this._snackBar=t}return _createClass(e,[{key:"openSnackBar",value:function(e){this.sbr=this._snackBar.openFromComponent(oe,{duration:5e3,data:e})}},{key:"closeSnackBar",value:function(){this.sbr.dismiss()}}]),e}()).\u0275fac=function(e){return new(e||X)(b.ac(se.b))},X.\u0275prov=b.Mb({token:X,factory:X.\u0275fac,providedIn:"root"}),X),ce=n("Xgv5"),le=((Y=function(){function e(t,n,r){_classCallCheck(this,e),this.dialogRef=t,this.data=n,this.fb=r,this.userFg=new c.h({})}return _createClass(e,[{key:"ngOnInit",value:function(){this.userFg=this.fb.group({userName:T(null,!1,[c.s.required]),userId:T(null,!1,[c.s.required])})}},{key:"onCancel",value:function(){this.dialogRef.close()}},{key:"onSubmit",value:function(){var e=new E.a(this.userFg.value.userId,this.userFg.value.userName);this.dialogRef.close(e)}},{key:"ngOnDestroy",value:function(){console.log("dialog destoryed")}},{key:"userNameFc",get:function(){return this.userFg.get("userName")}},{key:"userIdFc",get:function(){return this.userFg.get("userId")}}]),e}()).\u0275fac=function(e){return new(e||Y)(b.Qb(j.f),b.Qb(j.a),b.Qb(c.d))},Y.\u0275cmp=b.Kb({type:Y,selectors:[["dialog-add-user"]],decls:28,vars:3,consts:[[1,"comf"],["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"input-ff","mb-3"],["appearance","outline"],["matInput","","placeholder","John Doe",3,"formControl"],["matSuffix",""],["matInput","","placeholder","johndoe","formControlName","userId"],["mat-dialog-actions",""],["mat-stroked-button","","color","primary",1,"mr-2",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"h1",1),b.Ec(2,"Add new user"),b.Vb(),b.Wb(3,"div",2),b.Wb(4,"form",3),b.Wb(5,"div",4),b.Wb(6,"mat-form-field",5),b.Wb(7,"mat-label"),b.Ec(8,"User name"),b.Vb(),b.Rb(9,"input",6),b.Wb(10,"mat-icon",7),b.Ec(11,"face"),b.Vb(),b.Wb(12,"mat-hint"),b.Ec(13,"Enter a user name"),b.Vb(),b.Vb(),b.Vb(),b.Wb(14,"div",4),b.Wb(15,"mat-form-field",5),b.Wb(16,"mat-label"),b.Ec(17,"User ID"),b.Vb(),b.Rb(18,"input",8),b.Wb(19,"mat-icon",7),b.Ec(20,"account_box"),b.Vb(),b.Wb(21,"mat-hint"),b.Ec(22,"Enter a user ID"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(23,"div",9),b.Wb(24,"button",10),b.ec("click",(function(){return t.onCancel()})),b.Ec(25,"Cancel"),b.Vb(),b.Wb(26,"button",11),b.ec("click",(function(){return t.onSubmit()})),b.Ec(27,"Submit"),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(4),b.oc("formGroup",t.userFg),b.Db(5),b.oc("formControl",t.userNameFc),b.Db(17),b.oc("disabled",t.userFg.invalid))},directives:[j.g,j.d,c.t,c.o,c.i,B.c,B.g,U.b,c.b,c.n,c.f,$.a,B.h,B.f,c.g,j.c,G.a],styles:[""]}),Y),ue=((H=function(){function e(t){_classCallCheck(this,e),this.dialog=t,this.compDest$=new k.a}return _createClass(e,[{key:"getUserAddDialog",value:function(e){return this.dialog.open(le,{minWidth:"250px",data:e,disableClose:!1,autoFocus:!0})}},{key:"getFavDrinkAddDialog",value:function(e){return this.dialogRef=this.dialog.open(Z,{minWidth:"250px",data:e,disableClose:!1})}}]),e}()).\u0275fac=function(e){return new(e||H)(b.ac(j.b))},H.\u0275prov=b.Mb({token:H,factory:H.\u0275fac,providedIn:"root"}),H),de=n("E8I7"),be=n("LvDl"),fe=n("QibW");function pe(e,t){if(1&e&&(b.Wb(0,"mat-radio-button",3),b.Ec(1),b.Vb()),2&e){var n=t.$implicit;b.oc("value",n),b.Db(1),b.Gc(" ",n.display," ")}}var he,ge=((he=function(){function e(t){_classCallCheck(this,e),this.ofs=t,this.drinkSeries=[],this.compDest$=new k.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.drinkSeries=[],this.drinkSeries.push(new de.a(de.b.MILK_TEA,"Milk Tea"),new de.a(de.b.FRUIT_TEA,"Creative Mix"),new de.a(de.b.YOGURT,"Yogurt")),this.setDefaultValue()}},{key:"setDefaultValue",value:function(){var e=be.findIndex(this.drinkSeries,["name",this.seriesCtrl.value.name]);e>-1&&this.seriesCtrl.setValue(this.drinkSeries[e])}},{key:"onSeriesChange",value:function(){this.ofs.orderFg.get("drinkName").reset()}}]),e}()).\u0275fac=function(e){return new(e||he)(b.Qb(P))},he.\u0275cmp=b.Kb({type:he,selectors:[["app-shared-order-form-series-desc"]],inputs:{seriesCtrl:"seriesCtrl"},features:[b.Bb],decls:7,vars:2,consts:[[1,"comf"],["color","primary",1,"series-radio-group",3,"formControl","ngModelChange"],["class","series-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"series-radio-button",3,"value"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"p"),b.Ec(2,"Select a drink series to get started."),b.Vb(),b.Wb(3,"p"),b.Ec(4,"We currently have three tea series to choose from:"),b.Vb(),b.Wb(5,"mat-radio-group",1),b.ec("ngModelChange",(function(){return t.onSeriesChange()})),b.Cc(6,pe,2,2,"mat-radio-button",2),b.Vb(),b.Vb()),2&e&&(b.Db(5),b.oc("formControl",t.seriesCtrl),b.Db(1),b.oc("ngForOf",t.drinkSeries))},directives:[fe.b,c.n,c.f,a.k,fe.a],styles:["",".series-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.series-radio-button[_ngcontent-%COMP%]{margin-bottom:5px}.fav-check[_ngcontent-%COMP%]{display:flex;align-self:flex-end}button.order-submit[_ngcontent-%COMP%]{background-color:#093}"]}),he);function me(e,t){if(1&e&&(b.Wb(0,"mat-radio-button",5),b.Ec(1),b.Vb()),2&e){var n=t.$implicit;b.oc("value",n),b.Db(1),b.Gc(" ",n.display," ")}}function ve(e,t){if(1&e&&(b.Wb(0,"div",2),b.Wb(1,"p"),b.Ec(2,"Select a drink:"),b.Vb(),b.Wb(3,"mat-radio-group",3),b.Cc(4,me,2,2,"mat-radio-button",4),b.Vb(),b.Vb()),2&e){var n=b.ic();b.Db(3),b.oc("formControl",n.drinkNameCtrl),b.Db(1),b.oc("ngForOf",n.drinkNames)}}function ke(e,t){1&e&&(b.Wb(0,"p",6),b.Ec(1," We are sorry, there are currently no drinks available for the series you have selected. "),b.Vb(),b.Wb(2,"p"),b.Ec(3," Go back and try a different series! "),b.Vb())}var ye,Ce=((ye=function(){function e(t,n){_classCallCheck(this,e),this.fds=t,this.ofs=n,this.drinkNames=[],this.compDest$=new k.a}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.setUpDrinksBySeries()}},{key:"ngOnInit",value:function(){}},{key:"setUpDrinksBySeries",value:function(){var e=this;this.fds.getDrinksBySeriesObs(this.seriesSelection).pipe(Object(C.a)(this.compDest$),Object(C.a)(this.ofs.refreshComponent$)).subscribe((function(t){e.drinkNames=_toConsumableArray(t),e.drinkNames=be.sortBy(e.drinkNames,["display"]),e.setDefaultValue()}))}},{key:"setDefaultValue",value:function(){if(this.drinkNameCtrl.value){var e=be.findIndex(this.drinkNames,["name",this.drinkNameCtrl.value.name]);e>-1&&this.drinkNameCtrl.setValue(this.drinkNames[e])}}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ye)(b.Qb(M.a),b.Qb(P))},ye.\u0275cmp=b.Kb({type:ye,selectors:[["app-shared-order-form-drink-desc"]],inputs:{drinkNameCtrl:"drinkNameCtrl",seriesSelection:"seriesSelection"},features:[b.Bb],decls:3,vars:2,consts:[["class","comf",4,"ngIf","ngIfElse"],["noDrinks",""],[1,"comf"],["color","primary",1,"series-radio-group",3,"formControl"],["class","series-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"series-radio-button",3,"value"],[1,"mb-3"]],template:function(e,t){if(1&e&&(b.Cc(0,ve,5,2,"div",0),b.Cc(1,ke,4,0,"ng-template",null,1,b.Dc)),2&e){var n=b.tc(2);b.oc("ngIf",t.drinkNames.length>0)("ngIfElse",n)}},directives:[a.l,fe.b,c.n,c.f,a.k,fe.a],styles:["p[_ngcontent-%COMP%]{font-family:Comfortaa,cursive!important}",".series-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.series-radio-button[_ngcontent-%COMP%]{margin-bottom:5px}.fav-check[_ngcontent-%COMP%]{display:flex;align-self:flex-end}button.order-submit[_ngcontent-%COMP%]{background-color:#093}"]}),ye),Oe=n("itXk"),Ve=n("5RNC");function we(e,t){if(1&e&&(b.Wb(0,"mat-radio-button",7),b.Ec(1),b.Vb()),2&e){var n=t.$implicit;b.oc("value",n),b.Db(1),b.Gc(" ",n.display," ")}}var We,De=((We=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.fds=t,this.ofs=n,this.drinkSizes=[],this.iceOptions=[],this.sugarOptions=[],this.allOptionsLoaded=!1,this.compDest$=new k.a,this.sugarSliderLimit=new Se,this.iceSliderLimit=new Se,this.thumbDisplaySugarFn=function(e){var t;return null===(t=r.sugarOptions[e])||void 0===t?void 0:t.name},this.thumbDisplayIceFn=function(e){var t;return null===(t=r.iceOptions[e])||void 0===t?void 0:t.name}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.setupSettingOptions2()}},{key:"setupSettingOptions2",value:function(){var e=this;Object(Oe.a)(this.fds.getDrinksBySettingOptionObs("size"),this.fds.getDrinksBySettingOptionObs("sugar-level"),this.fds.getDrinksBySettingOptionObs("ice-level"),(function(e,t,n){return{size:e,sugar:t,ice:n}})).pipe(Object(C.a)(this.compDest$),Object(C.a)(this.ofs.refreshComponent$)).subscribe((function(t){t&&(e.allOptionsLoaded=!0,e.drinkSizes=t.size,e.iceOptions=t.ice,e.sugarOptions=t.sugar,e.sortOptionsAsc(),e.setSugarSliderLimits(),e.setIceSliderLimits(),e.setSizeDefaultValue(),e.setSugarDefaultValue(),e.setIceDefaultValue())}))}},{key:"setSizeDefaultValue",value:function(){var e=be.findIndex(this.drinkSizes,["name",this.drinkSizeFc.value.name]);e>-1&&this.drinkSizeFc.setValue(this.drinkSizes[e])}},{key:"setSugarDefaultValue",value:function(){var e=be.findIndex(this.sugarOptions,["name",this.drinkSugarFc.value.name]);this.sugarSliderVal=e,this.currentSugarLevel=this.sugarOptions[e],e>-1&&this.drinkSugarFc.setValue(this.currentSugarLevel)}},{key:"setIceDefaultValue",value:function(){var e=be.findIndex(this.iceOptions,["name",this.drinkIceFc.value.name]);"none"===this.drinkIceFc.value.name&&(e=0),this.iceSliderVal=e,this.currentIceLevel=this.iceOptions[e],e>-1&&this.drinkIceFc.setValue(this.currentIceLevel)}},{key:"sortOptionsAsc",value:function(){this.sugarOptions.sort((function(e,t){return+e.name<+t.name?-1:1})),this.iceOptions.sort((function(e,t){return+e.name<+t.name?-1:1}))}},{key:"setSugarSliderLimits",value:function(){this.sugarSliderLimit.max=this.sugarOptions.length-1}},{key:"setIceSliderLimits",value:function(){this.iceSliderLimit.max=this.iceOptions.length-1}},{key:"onSugarLevelChange",value:function(){this.currentSugarLevel=this.sugarOptions[+this.sugarSliderVal],this.drinkSugarFc.setValue(this.currentSugarLevel)}},{key:"onIceLevelChange",value:function(){this.currentIceLevel=this.iceOptions[+this.iceSliderVal],this.drinkIceFc.setValue(this.currentIceLevel)}},{key:"ngOnDestroy",value:function(){this.compDest$.next()}},{key:"drinkSizeFc",get:function(){return this.settingsFg.get("size")}},{key:"drinkIceFc",get:function(){return this.settingsFg.get("ice")}},{key:"drinkSugarFc",get:function(){return this.settingsFg.get("sugar")}}]),e}()).\u0275fac=function(e){return new(e||We)(b.Qb(M.a),b.Qb(P))},We.\u0275cmp=b.Kb({type:We,selectors:[["app-shared-order-form-settings-desc"]],inputs:{settingsFg:"settingsFg"},features:[b.Bb],decls:19,vars:24,consts:[[1,"comf"],["id","drink-size"],["aria-labelledby","drink-size","color","primary",1,"series-radio-group",3,"formControl"],["class","series-radio-button",3,"value",4,"ngFor","ngForOf"],["id","drink-size",1,"mb-3"],[1,"setting-slider-parent"],["color","primary",1,"setting-slider",3,"disabled","max","min","step","thumbLabel","displayWith","ngModel","vertical","ngModelChange","change"],[1,"series-radio-button",3,"value"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"label",1),b.Ec(2,"Select drink size:"),b.Vb(),b.Wb(3,"mat-radio-group",2),b.Cc(4,we,2,2,"mat-radio-button",3),b.Vb(),b.Vb(),b.Rb(5,"hr"),b.Wb(6,"div",0),b.Wb(7,"label",4),b.Ec(8),b.jc(9,"lowercase"),b.Vb(),b.Wb(10,"div",5),b.Wb(11,"mat-slider",6),b.ec("ngModelChange",(function(e){return t.sugarSliderVal=e}))("change",(function(){return t.onSugarLevelChange()})),b.Vb(),b.Vb(),b.Vb(),b.Rb(12,"hr"),b.Wb(13,"div",0),b.Wb(14,"label",4),b.Ec(15),b.jc(16,"lowercase"),b.Vb(),b.Wb(17,"div",5),b.Wb(18,"mat-slider",6),b.ec("ngModelChange",(function(e){return t.iceSliderVal=e}))("change",(function(){return t.onIceLevelChange()})),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(3),b.oc("formControl",t.drinkSizeFc),b.Db(1),b.oc("ngForOf",t.drinkSizes),b.Db(4),b.Gc("Select sugar level (",b.kc(9,20,null==t.currentSugarLevel?null:t.currentSugarLevel.display),") :"),b.Db(3),b.oc("disabled",!1)("max",t.sugarSliderLimit.max)("min",t.sugarSliderLimit.min)("step",1)("thumbLabel",!0)("displayWith",t.thumbDisplaySugarFn)("ngModel",t.sugarSliderVal)("vertical",!1),b.Db(4),b.Gc("Select ice level (",b.kc(16,22,null==t.currentIceLevel?null:t.currentIceLevel.display),") :"),b.Db(3),b.oc("disabled",!1)("max",3)("min",0)("step",1)("thumbLabel",!0)("displayWith",t.thumbDisplayIceFn)("ngModel",t.iceSliderVal)("vertical",!1))},directives:[fe.b,c.n,c.f,a.k,Ve.a,c.q,fe.a],pipes:[a.i],styles:[".setting-slider[_ngcontent-%COMP%]{width:100%}.setting-slider-parent[_ngcontent-%COMP%]{width:50%}",".series-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.series-radio-button[_ngcontent-%COMP%]{margin-bottom:5px}.fav-check[_ngcontent-%COMP%]{display:flex;align-self:flex-end}button.order-submit[_ngcontent-%COMP%]{background-color:#093}"]}),We),Se=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this.min=t,this.max=n},Fe=n("MutI"),_e=n("AB5n");function xe(e,t){if(1&e&&(b.Wb(0,"mat-list-option",5),b.Ec(1),b.Vb()),2&e){var n=t.$implicit;b.oc("value",n)("checkboxPosition","before"),b.Db(1),b.Gc(" ",n.display," ")}}var Ie,Ee=((Ie=function(){function e(t,n,r){_classCallCheck(this,e),this.fds=t,this.fb=n,this.ofs=r,this.drinkToppings=[],this.compDest$=new k.a,this.defaultSelected=[],this.selectedCount=0,this.compareFn=function(e,t){return e.name===t.name}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(e){this.setupToppings(),this.defaultSelected=this.getDefaultSelected(),this.selectedCount=this.toppingFa.length}},{key:"getDefaultSelected",value:function(){return this.toppingFa.value?this.toppingFa.value:[]}},{key:"ngAfterViewInit",value:function(){}},{key:"onSelectionChange",value:function(e){var t=this.toppingList._value;this.selectedCount=e.source.selectedOptions.selected.length;var n=[];t.forEach((function(e){n.push(T(e,!1))}));var r=this.fb.array(n);this.ofs.orderFg.setControl("toppings",r)}},{key:"setupToppings",value:function(){var e=this;this.fds.getDrinkToppingObs().pipe(Object(C.a)(this.compDest$),Object(C.a)(this.ofs.refreshComponent$)).subscribe((function(t){t&&(e.drinkToppings=be.sortBy(t,["display"]))}))}},{key:"ngOnDestroy",value:function(){this.compDest$.next()}}]),e}()).\u0275fac=function(e){return new(e||Ie)(b.Qb(M.a),b.Qb(c.d),b.Qb(P))},Ie.\u0275cmp=b.Kb({type:Ie,selectors:[["app-shared-order-form-topping-desc"]],viewQuery:function(e,t){var n;1&e&&b.Lc(Fe.c,!0),2&e&&b.sc(n=b.fc())&&(t.toppingList=n.first)},inputs:{toppingFa:"toppingFa"},features:[b.Bb],decls:7,vars:6,consts:[[1,"comf"],[1,"top-label"],[1,"row","top-row"],[3,"compareWith","ngModel","selectionChange"],["color","primary",3,"value","checkboxPosition",4,"ngFor","ngForOf"],["color","primary",3,"value","checkboxPosition"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Ec(2),b.jc(3,"countNumberDisplay"),b.Vb(),b.Wb(4,"div",2),b.Wb(5,"mat-selection-list",3),b.ec("selectionChange",(function(e){return t.onSelectionChange(e)})),b.Cc(6,xe,2,3,"mat-list-option",4),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(2),b.Gc("Select toppings ",b.kc(3,4,t.selectedCount)," : "),b.Db(3),b.oc("compareWith",t.compareFn)("ngModel",t.defaultSelected),b.Db(1),b.oc("ngForOf",t.drinkToppings))},directives:[Fe.c,c.n,c.q,a.k,Fe.b],pipes:[_e.a],styles:[""]}),Ie),Me=n("d3UM"),Pe=n("FKr1");function Te(e,t){if(1&e&&(b.Wb(0,"mat-option",7),b.Ec(1),b.Vb()),2&e){var n=t.$implicit;b.oc("value",n),b.Db(1),b.Gc(" ",n.display," ")}}function Ne(e,t){1&e&&(b.Wb(0,"mat-error",8),b.Ec(1," Select a name. "),b.Vb())}var Ae,Le=((Ae=function(){function e(t,n,r,i,s){_classCallCheck(this,e),this.us=t,this.ds=n,this.rdf=r,this.sbs=i,this.ofs=s,this.users=[],this.matcher=new R}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){var e=this;this.us.allUsersr$.pipe(Object(C.a)(this.ofs.refreshComponent$)).subscribe((function(t){e.users=_toConsumableArray(t)}))}},{key:"onNameAdd",value:function(){var e=this;this.userAddDialogRef=this.ds.getUserAddDialog(),this.userAddDialogRef.afterClosed().pipe(Object(C.a)(this.ofs.refreshComponent$)).subscribe((function(t){t&&e.us.usersListFDB.push(t).then((function(t){return e.onPushComplete(t)}),(function(e){}))}))}},{key:"onPushComplete",value:function(e){this.sbs.openSnackBar("User added!")}}]),e}()).\u0275fac=function(e){return new(e||Ae)(b.Qb(ie),b.Qb(ue),b.Qb(M.a),b.Qb(ae),b.Qb(P))},Ae.\u0275cmp=b.Kb({type:Ae,selectors:[["app-shared-order-form-confirm-desc"]],inputs:{userFc:"userFc"},features:[b.Bb],decls:13,vars:4,consts:[[1,"comf"],[1,"name-field","mb-3"],[3,"formControl","errorStateMatcher"],[3,"value",4,"ngFor","ngForOf"],["class","err",4,"ngIf"],[1,""],["mat-stroked-button","","color","primary",3,"click"],[3,"value"],[1,"err"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"mat-form-field",1),b.Wb(2,"mat-label"),b.Ec(3,"Select your name"),b.Vb(),b.Wb(4,"mat-select",2),b.Cc(5,Te,2,2,"mat-option",3),b.Vb(),b.Wb(6,"mat-hint"),b.Ec(7,"This will be the name your order is under."),b.Vb(),b.Cc(8,Ne,2,0,"mat-error",4),b.Vb(),b.Wb(9,"div",5),b.Ec(10," Or add a new name "),b.Wb(11,"button",6),b.ec("click",(function(){return t.onNameAdd()})),b.Ec(12,"here"),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(4),b.oc("formControl",t.userFc)("errorStateMatcher",t.matcher),b.Db(1),b.oc("ngForOf",t.users),b.Db(3),b.oc("ngIf",t.userFc.hasError("required")))},directives:[B.c,B.g,Me.a,c.n,c.f,a.k,B.f,a.l,G.a,Pe.n,B.b],styles:[".name-field[_ngcontent-%COMP%]{width:20rem}mat-error.err[_ngcontent-%COMP%]{font-weight:700}"]}),Ae),je=n("bSwM");function Qe(e,t){1&e&&(b.Wb(0,"div",20),b.Ec(1,"Series"),b.Vb())}function Re(e,t){1&e&&b.Ec(0,"Drink")}function Be(e,t){1&e&&b.Ec(0,"Size / Sugar / Ice")}function Ue(e,t){1&e&&b.Ec(0,"Toppings")}function $e(e,t){1&e&&b.Ec(0,"Confirmation")}var Ge,ze,Ke=((ze=function(){function e(t,n,r,i,s,o,a,c,l){_classCallCheck(this,e),this.fb=t,this.ofs=n,this.us=r,this.rdf=i,this.sbs=s,this.router=o,this.route=a,this.cs=c,this.ds=l,this.onDrinkSubmit=new b.o,this.isFavorite=!1,this.compDes$=new k.a}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=this;this.drinkOrder&&(this.ofs.orderFg=null,this.ofs.orderFg=this.createForm(this.drinkOrder),console.log("FG created: ",this.ofs.orderFg),this.orderStepper&&this.orderStepper.reset(),this.ofs.orderFg.valueChanges.pipe(Object(C.a)(this.ofs.refreshComponent$)).subscribe((function(e){console.log("changes",t.ofs.orderFg.controls),t.currentDrinkSeries=t.drinkSeriesFc.value.name})))}},{key:"ngOnInit",value:function(){}},{key:"createForm",value:function(e){var t=new c.h({});t.addControl("seriesName",T({name:e.drinkType.seriesName,display:e.drinkType.seriesDisplay},!1,[c.s.required])),t.addControl("drinkName",T({name:e.drinkType.name,display:e.drinkType.display},!1,[c.s.required])),t.addControl("settings",this.fb.group({size:T(this.drinkOrder.size,!1,[c.s.required]),ice:T(this.drinkOrder.iceLevel,!1,[c.s.required]),sugar:T(this.drinkOrder.sugar,!1,[c.s.required])}));var n=new c.c([]),r=new I.g("pearls","Pearls"),i=new I.g("coconutJelly","Coconut Jelly");return n.push(T(r,!1)),n.push(T(i,!1)),t.addControl("toppings",n),t.addControl("user",T(null,!1,[c.s.required])),t.addControl("isFavorite",T(!1,!1)),t}},{key:"onOrderSubmit",value:function(){var e=this;console.log("order status:",this.ofs.orderFg.status),console.log("order value:",this.ofs.orderFg.value),console.log("order fg",this.ofs.orderFg);var t=this.ofs.orderFg.value,n=this.createCurrentDrinkOrderDetail(t),r=this.getSelectedUser(t),i=new I.c(null,(new Date).getTime(),[],r);i.orders=[n],this.rdf.getCartOrders().push(i).then((function(n){e.sbs.openSnackBar("Added order to cart."),e.proceedToCart(t.isFavorite)}),(function(t){e.sbs.openSnackBar("There was an error adding this order to cart. Try again.")}))}},{key:"proceedToCart",value:function(e){e?this.onFavoriteAdd():this.router.navigate(["../","all"],{relativeTo:this.route})}},{key:"createCurrentDrinkOrderDetail",value:function(e){var t=new I.b(e.settings.ice.name,e.settings.ice.display),n=new I.h(e.drinkName.name,e.drinkName.display,e.seriesName.name,e.seriesName.display),r=new I.e(e.settings.size.name,e.settings.size.display),i=new I.f(e.settings.sugar.name,e.settings.sugar.display),s=[];return e.toppings.forEach((function(e){s.push(new I.g(e.name,e.display))})),new I.d(t,n,r,i,s)}},{key:"onFavoriteAdd",value:function(){var e=this,t=new ee("Add new favorite","Name",null,"edit","This will be the name of your favorite drink");this.ds.getFavDrinkAddDialog(t).afterClosed().pipe(Object(C.a)(this.compDes$),Object(L.a)((function(t){if(t){var n=(new Date).getTime(),r=e.cs.getFDB().ref("favorites/"+t),i=new I.a(r.key,e.getSelectedUser(e.ofs.orderFg.value),n,e.createCurrentDrinkOrderDetail(e.ofs.orderFg.value));return r.set(i)}}))).subscribe((function(e){}),(function(t){e.sbs.openSnackBar("A favorite drink with that name already exists, try a different name.")}),(function(){e.sbs.openSnackBar("Favorite drink saved!"),e.router.navigate(["../","all"],{relativeTo:e.route})}))}},{key:"getSelectedUser",value:function(e){return new E.a(e.user.id,e.user.display)}},{key:"ngOnDestroy",value:function(){this.compDes$.next()}},{key:"drinkSeriesFc",get:function(){return this.ofs.orderFg.get("seriesName")}},{key:"drinkNameFc",get:function(){return this.ofs.orderFg.get("drinkName")}},{key:"drinkSettingsFg",get:function(){return this.ofs.orderFg.get("settings")}},{key:"drinkToppingsFa",get:function(){return this.ofs.orderFg.get("toppings")}},{key:"userFc",get:function(){return this.ofs.orderFg.get("user")}}]),e}()).\u0275fac=function(e){return new(e||ze)(b.Qb(c.d),b.Qb(P),b.Qb(ie),b.Qb(M.a),b.Qb(ae),b.Qb(u.b),b.Qb(u.a),b.Qb(ce.a),b.Qb(ue))},ze.\u0275cmp=b.Kb({type:ze,selectors:[["app-shared-order-form"]],viewQuery:function(e,t){var n;1&e&&b.Lc(A.a,!0),2&e&&b.sc(n=b.fc())&&(t.orderStepper=n.first)},inputs:{drinkOrder:"drinkOrder"},outputs:{onDrinkSubmit:"onDrinkSubmit"},features:[b.Cb([{provide:N.h,useValue:{showError:!0}}]),b.Bb],decls:47,vars:12,consts:[["linear","",3,"formGroup"],["stepper",""],["errorMessage","Pick a series!",3,"stepControl"],["matStepLabel",""],[3,"seriesCtrl"],["mat-stroked-button","","color","primary","matStepperNext",""],["errorMessage","Drink type required",3,"stepControl"],["title","Pick a drink","matStepLabel",""],[3,"drinkNameCtrl","seriesSelection"],["mat-stroked-button","","color","primary","matStepperPrevious","",1,"mr-1"],["errorMessage","Sugar & ice level required",3,"stepControl"],["title","Pick drink settings","matStepLabel",""],[3,"settingsFg"],[3,"stepControl"],[3,"toppingFa"],[3,"userFc"],[1,"d-flex"],["mat-stroked-button","","matStepperPrevious","",1,"mr-1"],["mat-flat-button","","color","primary",1,"mr-4","order-submit",3,"disabled","click"],["color","primary","formControlName","isFavorite",1,"fav-check"],["title","Pick a drink series"]],template:function(e,t){1&e&&(b.Wb(0,"mat-horizontal-stepper",0,1),b.Wb(2,"mat-step",2),b.Cc(3,Qe,2,0,"ng-template",3),b.Rb(4,"app-shared-order-form-series-desc",4),b.Rb(5,"hr"),b.Wb(6,"div"),b.Wb(7,"button",5),b.Ec(8,"Next"),b.Vb(),b.Vb(),b.Vb(),b.Wb(9,"mat-step",6),b.Cc(10,Re,1,0,"ng-template",7),b.Rb(11,"app-shared-order-form-drink-desc",8),b.Rb(12,"hr"),b.Wb(13,"div"),b.Wb(14,"button",9),b.Ec(15,"Back"),b.Vb(),b.Wb(16,"button",5),b.Ec(17,"Next"),b.Vb(),b.Vb(),b.Vb(),b.Wb(18,"mat-step",10),b.Cc(19,Be,1,0,"ng-template",11),b.Rb(20,"app-shared-order-form-settings-desc",12),b.Rb(21,"hr"),b.Wb(22,"div"),b.Wb(23,"button",9),b.Ec(24,"Back"),b.Vb(),b.Wb(25,"button",5),b.Ec(26,"Next"),b.Vb(),b.Vb(),b.Vb(),b.Wb(27,"mat-step",13),b.Cc(28,Ue,1,0,"ng-template",11),b.Rb(29,"app-shared-order-form-topping-desc",14),b.Rb(30,"hr"),b.Wb(31,"div"),b.Wb(32,"button",9),b.Ec(33,"Back"),b.Vb(),b.Wb(34,"button",5),b.Ec(35,"Next"),b.Vb(),b.Vb(),b.Vb(),b.Wb(36,"mat-step"),b.Cc(37,$e,1,0,"ng-template",3),b.Rb(38,"app-shared-order-form-confirm-desc",15),b.Rb(39,"hr"),b.Wb(40,"div",16),b.Wb(41,"button",17),b.Ec(42,"Back"),b.Vb(),b.Wb(43,"button",18),b.ec("click",(function(){return t.onOrderSubmit()})),b.Ec(44,"Finish "),b.Vb(),b.Wb(45,"mat-checkbox",19),b.Ec(46,"Save as favorite"),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.oc("formGroup",t.ofs.orderFg),b.Db(2),b.oc("stepControl",t.drinkSeriesFc),b.Db(2),b.oc("seriesCtrl",t.drinkSeriesFc),b.Db(5),b.oc("stepControl",t.drinkNameFc),b.Db(2),b.oc("drinkNameCtrl",t.drinkNameFc)("seriesSelection",t.currentDrinkSeries),b.Db(7),b.oc("stepControl",t.drinkSettingsFg),b.Db(2),b.oc("settingsFg",t.drinkSettingsFg),b.Db(7),b.oc("stepControl",t.drinkToppingsFa),b.Db(2),b.oc("toppingFa",t.drinkToppingsFa),b.Db(9),b.oc("userFc",t.userFc),b.Db(5),b.oc("disabled",t.ofs.orderFg&&t.ofs.orderFg.invalid))},directives:[A.a,c.o,c.i,A.b,A.c,ge,G.a,A.e,Ce,A.f,De,Ee,Le,je.a,c.n,c.g],styles:[".series-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.series-radio-button[_ngcontent-%COMP%]{margin-bottom:5px}.fav-check[_ngcontent-%COMP%]{display:flex;align-self:flex-end}button.order-submit[_ngcontent-%COMP%]{background-color:#093}"]}),ze),qe=((Ge=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.fds=t,this.route=n,this.ofs=r,this.route.queryParamMap.subscribe((function(e){i.ofs.refreshComponent$.next(),i.createDefaultDrink()}))}return _createClass(e,[{key:"ngOnInit",value:function(){this.createDefaultDrink()}},{key:"createDefaultDrink",value:function(){(new Date).getTime(),new E.a("kevin","Kevin");var e=new I.b(null,null),t=new I.f(null,null),n=new I.e(null,null),r=new I.h(null,null,null,null);this.drinkOrder=new I.d(e,r,n,t,[])}},{key:"loadFavorite",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ge)(b.Qb(M.a),b.Qb(u.a),b.Qb(P))},Ge.\u0275cmp=b.Kb({type:Ge,selectors:[["app-order-new-create"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-sm-12"],[1,"order-label","mb-3","double-underline","comf","center-align"],[3,"drinkOrder"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Ec(3," Current order "),b.Vb(),b.Vb(),b.Vb(),b.Wb(4,"div",0),b.Wb(5,"div",1),b.Rb(6,"app-shared-order-form",3),b.Vb(),b.Vb()),2&e&&(b.Db(6),b.oc("drinkOrder",t.drinkOrder))},directives:[Ke],styles:[".order-label[_ngcontent-%COMP%]{font-size:1.3rem;color:#000;font-weight:800}"]}),Ge),Xe=n("s5sP"),Je=n("2Gqf"),He=n("4ppg");function Ye(e,t){if(1&e){var n=b.Xb();b.Wb(0,"div"),b.Wb(1,"button",12),b.ec("click",(function(){return b.vc(n),b.ic(3).onAddAnother()})),b.Ec(2," Add another"),b.Vb(),b.Vb()}}function Ze(e,t){if(1&e&&(b.Ub(0,13),b.Wb(1,"div",14),b.Wb(2,"div",4),b.Rb(3,"app-shared-order-user-info",15),b.Vb(),b.Vb(),b.Wb(4,"div",16),b.Wb(5,"div",3),b.Wb(6,"div",4),b.Rb(7,"app-shared-order-accordion",17),b.Vb(),b.Vb(),b.Vb(),b.Tb()),2&e){var n=t.$implicit,r=t.index,i=b.ic(3);b.Db(3),b.oc("orderNumber",r)("showOrderedDate",!1)("totalOrdersCount",i.cartOrdersGrouped.length)("order",n),b.Db(4),b.oc("drinkOrder",n)("startAsCollapsed",!0)}}function et(e,t){if(1&e){var n=b.Xb();b.Ub(0),b.Rb(1,"hr"),b.Wb(2,"div",18),b.Wb(3,"div",4),b.Wb(4,"div"),b.Wb(5,"button",19),b.ec("click",(function(){return b.vc(n),b.ic(3).onCheckoutClick()})),b.Wb(6,"mat-icon",20),b.Ec(7,"credit_card"),b.Vb(),b.Ec(8," Checkout "),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Tb()}}function tt(e,t){if(1&e&&(b.Ub(0),b.Wb(1,"div",3),b.Wb(2,"div",4),b.Wb(3,"div",5),b.Ec(4),b.jc(5,"countNumberDisplay"),b.Vb(),b.Vb(),b.Vb(),b.Wb(6,"div",6),b.Wb(7,"div",4),b.Wb(8,"div",7),b.Wb(9,"div"),b.Ec(10),b.jc(11,"pluralDisplay"),b.Vb(),b.Cc(12,Ye,3,0,"div",8),b.Vb(),b.Vb(),b.Vb(),b.Cc(13,Ze,8,6,"ng-container",9),b.Wb(14,"div",10),b.Wb(15,"div",4),b.Wb(16,"div",11),b.Ec(17," Total cost: TBD "),b.Vb(),b.Vb(),b.Vb(),b.Cc(18,et,9,0,"ng-container",8),b.Tb()),2&e){var n=b.ic(2);b.Db(4),b.Gc(" Cart ",b.kc(5,7,n.cartOrders.length)," "),b.Db(6),b.Ic(" There are currently ",n.cartOrders.length," items made from ",n.cartOrdersGrouped.length," ",b.lc(11,9,"person",n.cartOrdersGrouped.length),". "),b.Db(2),b.oc("ngIf",n.cartOrders.length>0),b.Db(1),b.oc("ngForOf",n.cartOrdersGrouped),b.Db(5),b.oc("ngIf",n.cartOrders.length>0)}}function nt(e,t){if(1&e&&(b.Ub(0),b.Cc(1,tt,19,12,"ng-container",0),b.Tb()),2&e){var n=b.ic(),r=b.tc(2);b.Db(1),b.oc("ngIf",n.listOfUsers.length>0)("ngIfElse",r)}}function rt(e,t){1&e&&(b.Wb(0,"div",21),b.Ec(1," Cart is empty. "),b.Vb())}function it(e,t){1&e&&(b.Wb(0,"div",21),b.Ec(1," Loading your cart... "),b.Vb())}var st,ot,at=((st=function(){function e(t,n,r,i){_classCallCheck(this,e),this.rdfs=t,this.cs=n,this.router=r,this.route=i,this.compDest$=new k.a,this.cartOrders=[],this.listOfUsers=[],this.loading=!1,this.cartOrdersGrouped=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.cs.cartItemList$.pipe(Object(C.a)(this.compDest$),Object(ne.a)((function(t){return e.loading=!0,e.cartOrders=_toConsumableArray(t),e.listOfUsers=[],e.cartOrdersGrouped=[],t}))).subscribe((function(t){e.loading=!1,e.createGroupByUser()}))}},{key:"createGroupByUser",value:function(){var e=this;be.uniqBy(this.cartOrders,(function(e){return e.user.id})).forEach((function(t){e.listOfUsers.push(t.user)})),this.listOfUsers.forEach((function(t){var n=new I.c(null,(new Date).getTime(),[],t);e.cartOrdersGrouped.push(n),e.cartOrders.forEach((function(n){if(n.user.id===t.id){var r=e.cartOrdersGrouped.findIndex((function(e){return e.user.id===n.user.id}));e.cartOrdersGrouped[r].orders.push(n.orders[0])}}))}))}},{key:"onCheckoutClick",value:function(){this.cartOrders.length>0&&this.router.navigate(["../","checkout"],{relativeTo:this.route})}},{key:"onAddAnother",value:function(){this.router.navigate(["../","new"],{relativeTo:this.route})}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||st)(b.Qb(M.a),b.Qb(ce.a),b.Qb(u.b),b.Qb(u.a))},st.\u0275cmp=b.Kb({type:st,selectors:[["app-order-new-view-all"]],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["emptyCart",""],["loading",""],[1,"row","mb-3"],[1,"col-sm-12"],[1,"order-label","mb-3","double-underline","comf","center-align"],[1,"row","mb-3","comf"],[1,"cart-subtext"],[4,"ngIf"],["class","",4,"ngFor","ngForOf"],[1,"row","mt-3","mb-3"],[1,"order-label","mb-3","comf","d-flex","float-right"],[1,"btn","btn-outline-primary",3,"click"],[1,""],[1,"row","mb-1"],[3,"orderNumber","showOrderedDate","totalOrdersCount","order"],[1,"container-fluid"],[3,"drinkOrder","startAsCollapsed"],[1,"row","mt-4","mb-3"],["mat-flat-button","","color","primary",3,"click"],["matSuffix",""],[1,"comf"]],template:function(e,t){if(1&e&&(b.Cc(0,nt,2,2,"ng-container",0),b.Cc(1,rt,2,0,"ng-template",null,1,b.Dc),b.Cc(3,it,2,0,"ng-template",null,2,b.Dc)),2&e){var n=b.tc(4);b.oc("ngIf",n)("ngIfElse",n)}},directives:[a.l,a.k,Xe.a,Je.a,G.a,$.a,B.h],pipes:[_e.a,He.a],styles:[".order-label[_ngcontent-%COMP%]{font-size:1.3rem;color:#000;font-weight:800}.float-right[_ngcontent-%COMP%]{justify-content:flex-end}.cart-subtext[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]}),st),ct=n("Cfvw"),lt=n("LRne"),ut=n("bOdf"),dt=n("0EUg"),bt=n("B6Xj"),ft=((ot=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=e.drinkType.display,n=e.size.display,r=e.iceLevel.display,i=e.sugar.display,s=e.toppings,o="";return s.forEach((function(e,t){o=o+e.display+(t===s.length-1?"":", ")})),n.toUpperCase()+", "+t+", "+r.toLowerCase()+", "+i.toLowerCase()+", "+o}}]),e}()).\u0275fac=function(e){return new(e||ot)},ot.\u0275pipe=b.Pb({name:"drinkOrderDetailText",type:ot,pure:!0}),ot),pt=function(){return{"border-bottom":!0}};function ht(e,t){if(1&e&&(b.Wb(0,"div",3),b.Wb(1,"div",4),b.Wb(2,"div",5),b.Wb(3,"div",6),b.Rb(4,"img",7),b.jc(5,"drinkTypeUrl"),b.Vb(),b.Wb(6,"div",8),b.Ec(7),b.jc(8,"drinkOrderDetailText"),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&e){var n=t.$implicit;b.oc("ngClass",b.pc(7,pt)),b.Db(4),b.oc("src",b.kc(5,3,n.orders[0].drinkType.seriesName),b.xc),b.Db(3),b.Gc(" ",b.kc(8,5,n.orders[0])," ")}}var gt,mt,vt,kt,yt,Ct,Ot,Vt,wt,Wt,Dt,St,Ft=((vt=function(){function e(){_classCallCheck(this,e),this.cartOrders=[]}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||vt)},vt.\u0275cmp=b.Kb({type:vt,selectors:[["app-shared-checkout-items-display"]],inputs:{cartOrders:"cartOrders"},decls:4,vars:2,consts:[[1,"row"],[1,"col-sm-12","order-label","mb-3","solid-underline"],["class","row roboto p-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"row","roboto","p-2",3,"ngClass"],[1,"col-sm-12"],[1,"d-flex"],[1,"icon-img-parent","mb-1"],["alt","tea icon",1,"img-h-100",3,"src"],[1,"v-self-align-center","ml-1","order-desc"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Ec(2),b.Vb(),b.Vb(),b.Cc(3,ht,9,8,"div",2)),2&e&&(b.Db(2),b.Gc(" ",t.cartOrders.length," items: "),b.Db(1),b.oc("ngForOf",t.cartOrders))},directives:[a.k,a.j],pipes:[bt.a,ft],styles:[".icon-img-parent[_ngcontent-%COMP%]{height:25px}.order-desc[_ngcontent-%COMP%]{font-size:14px;font-weight:800;color:#4d4d4d}"]}),vt),_t=((mt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||mt)},mt.\u0275cmp=b.Kb({type:mt,selectors:[["app-shared-delivery-comp"]],decls:6,vars:0,consts:[[1,"row"],[1,"col-sm-12","order-label","mb-3","solid-underline"],[1,"col-sm-12"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Ec(2," Delivery method: "),b.Vb(),b.Vb(),b.Wb(3,"div",0),b.Wb(4,"div",2),b.Ec(5," Coming soon "),b.Vb(),b.Vb())},styles:[""]}),mt),xt=((gt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||gt)},gt.\u0275cmp=b.Kb({type:gt,selectors:[["app-shared-payment-info"]],decls:6,vars:0,consts:[[1,"row"],[1,"col-sm-12","order-label","mb-3","solid-underline"],[1,"col-sm-12"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Ec(2," Payment information: "),b.Vb(),b.Vb(),b.Wb(3,"div",0),b.Wb(4,"div",2),b.Ec(5," Coming soon "),b.Vb(),b.Vb())},styles:[""]}),gt),It=[{path:"",component:_,data:{title:"New Order"},children:[{path:"new",component:qe},{path:"checkout",component:(kt=function(){function e(t,n,r,i,s){_classCallCheck(this,e),this.cs=t,this.rfd=n,this.sbs=r,this.router=i,this.route=s,this.compDest$=new k.a,this.cartOrders=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.cs.cartItemList$.pipe(Object(C.a)(this.compDest$)).subscribe((function(t){e.cartOrders=_toConsumableArray(t)}))}},{key:"ngAfterViewInit",value:function(){this.scrollToTopView()}},{key:"onPlaceOrder",value:function(){var e=this,t=this.cs.createGroupByUser(this.cartOrders);Object(ct.a)(t).pipe(Object(ut.a)((function(t){return e.rfd.openOrdersFDB.push(t)}))).subscribe((function(e){}),(function(e){}),(function(){e.sbs.openSnackBar("We have received your orders!"),Object(ct.a)(e.cartOrders).pipe(Object(ne.a)((function(t){return Object(lt.a)(e.cs.cartItemsListFire.remove(t.fireKey))})),Object(dt.a)()).subscribe((function(e){}),(function(e){}),(function(){e.sbs.openSnackBar("We have received your orders."),e.goToCart()}))}))}},{key:"goToCart",value:function(){this.router.navigate(["../","all"],{relativeTo:this.route})}},{key:"scrollToTopView",value:function(){document.getElementById("checkout-heading").scrollIntoView(!1)}},{key:"ngOnDestroy",value:function(){this.compDest$.next()}}]),e}(),kt.\u0275fac=function(e){return new(e||kt)(b.Qb(ce.a),b.Qb(M.a),b.Qb(ae),b.Qb(u.b),b.Qb(u.a))},kt.\u0275cmp=b.Kb({type:kt,selectors:[["app-order-new-checkout"]],decls:22,vars:1,consts:[[1,"row","mb-3"],[1,"col-sm-6","offset-md-3"],["id","checkout-heading",1,"order-label","mb-3","double-underline","comf","center-align"],[1,"row","mb-5"],[1,"center-align"],["type","button",1,"btn","btn-success","checkout-btn",3,"click"],[1,"col-sm-5"],[3,"cartOrders"],[1,"col-sm-6","ml-md-auto"],[1,""],[1,"row","mb-3","comf"],[1,"col-sm-6"]],template:function(e,t){1&e&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Ec(3," Review and checkout "),b.Vb(),b.Vb(),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"div",1),b.Wb(6,"div",4),b.Wb(7,"button",5),b.ec("click",(function(){return t.onPlaceOrder()})),b.Ec(8,"Place your order"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Wb(9,"div",0),b.Wb(10,"div",6),b.Rb(11,"app-shared-checkout-items-display",7),b.Vb(),b.Wb(12,"div",8),b.Rb(13,"app-shared-delivery-comp"),b.Rb(14,"app-shared-payment-info"),b.Vb(),b.Vb(),b.Wb(15,"div",9),b.Wb(16,"div",10),b.Wb(17,"div",11),b.Ec(18," Tax: $XX.XX "),b.Vb(),b.Vb(),b.Wb(19,"div",10),b.Wb(20,"div",11),b.Ec(21," Total: $XX.XX "),b.Vb(),b.Vb(),b.Vb()),2&e&&(b.Db(11),b.oc("cartOrders",t.cartOrders))},directives:[Ft,_t,xt],styles:[".checkout-btn[_ngcontent-%COMP%]{width:40rem}.checkout-list[_ngcontent-%COMP%]{border-top:1px solid #cce6ff;border-bottom:1px solid #cce6ff}.icon-img-parent[_ngcontent-%COMP%]{height:25px}.order-desc[_ngcontent-%COMP%]{font-size:14px;font-weight:800}"]}),kt)},{path:"all",component:at,children:[{path:":id",component:x}]}]}],Et=((Ct=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:Ct}),Ct.\u0275inj=b.Nb({factory:function(e){return new(e||Ct)},imports:[[u.d.forChild(It)],u.d]}),Ct),Mt=((yt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:yt}),yt.\u0275inj=b.Nb({factory:function(e){return new(e||yt)},providers:[],imports:[[]]}),yt),Pt=n("UmVK"),Tt=n("37S3"),Nt=n("uKK0"),At=((Vt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:Vt}),Vt.\u0275inj=b.Nb({factory:function(e){return new(e||Vt)},providers:[],imports:[[Pt.a,c.r,c.j,a.c]]}),Vt),Lt=((Ot=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:Ot}),Ot.\u0275inj=b.Nb({factory:function(e){return new(e||Ot)},providers:[],imports:[[a.c,c.j,c.r,u.d,Pt.a,Tt.a,Nt.a,At]]}),Ot),jt=n("sc7Y"),Qt=n("Nqw2"),Rt=((St=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:St}),St.\u0275inj=b.Nb({factory:function(e){return new(e||St)},providers:[],imports:[[c.j,a.c,Tt.a]]}),St),Bt=((Dt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:Dt}),Dt.\u0275inj=b.Nb({factory:function(e){return new(e||Dt)},providers:[],imports:[[]]}),Dt),Ut=((Wt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:Wt}),Wt.\u0275inj=b.Nb({factory:function(e){return new(e||Wt)},providers:[],imports:[[]]}),Wt),$t=((wt=function e(){_classCallCheck(this,e)}).\u0275mod=b.Ob({type:wt}),wt.\u0275inj=b.Nb({factory:function(e){return new(e||wt)},providers:[],imports:[[a.c,c.j,c.r,l.b,Mt,Et,Lt,Pt.a,Tt.a,Nt.a,jt.a,Qt.a,Rt,Bt,Ut]]}),wt)}}]);